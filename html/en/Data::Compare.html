<html>
<head><meta charset=utf-8/>
<title>Data::Compare - compare perl data structures</title></head>
<body><pre>

Data::Compare(3pm)     User Contributed Perl Documentation    Data::Compare(3pm)



NAME
       Data::Compare - compare perl data structures

SYNOPSIS
           use Data::Compare;

           my $h1 = { &apos;foo&apos; =&gt; [ &apos;bar&apos;, &apos;baz&apos; ],  &apos;FOO&apos; =&gt; [ &apos;one&apos;, &apos;two&apos; ] };
           my $h2 = { &apos;foo&apos; =&gt; [ &apos;bar&apos;, &apos;barf&apos; ], &apos;FOO&apos; =&gt; [ &apos;one&apos;, &apos;two&apos; ] };
           my @a1 = (&apos;one&apos;, &apos;two&apos;);
           my @a2 = (&apos;bar&apos;, &apos;baz&apos;);
           my %v = ( &apos;FOO&apos;, \@a1, &apos;foo&apos;, \@a2 );

           # simple procedural interface
           print &apos;structures of $h1 and \%v are &apos;,
             Compare($h1, \%v) ? &quot;&quot; : &quot;not &quot;, &quot;identical.\n&quot;;

           print &apos;structures of $h1 and $h2 are &apos;,
             Compare($h1, $h2, { ignore_hash_keys =&gt; [qw(foo)] }) ? &apos;&apos; : &apos;not &apos;,
             &quot;close enough to identical.\n&quot;;

           # OO usage
           my $c = new Data::Compare($h1, \%v);
           print &apos;structures of $h1 and \%v are &apos;,
             $c-&gt;Cmp ? &quot;&quot; : &quot;not &quot;, &quot;identical.\n&quot;;
           # or
           my $c = new Data::Compare;
           print &apos;structures of $h and \%v are &apos;,
             $c-&gt;Cmp($h1, \%v) ? &quot;&quot; : &quot;not &quot;, &quot;identical.\n&quot;;

DESCRIPTION
       Compare two perl data structures recursively. Returns 0 if the structures
       differ, else returns 1.

       A few data types are treated as special cases:

       Scalar::Properties objects
           This has been moved into a plugin, although functionality remains the
           same as with the previous version.  Full documentation is in
           Data::Compare::Plugins::Scalar::Properties.

       Compiled regular expressions, eg qr/foo/
           These are stringified before comparison, so the following will match:

               $r = qr/abc/i;
               $s = qr/abc/i;
               Compare($r, $s);

           and the following won&apos;t, despite them matching *exactly* the same
           text:

               $r = qr/abc/i;
               $s = qr/[aA][bB][cC]/;
               Compare($r, $s);

           Sorry, that&apos;s the best we can do.

       CODE and GLOB references
           These are assumed not to match unless the references are identical -
           ie, both are references to the same thing.

       You may also customise how we compare structures by supplying options in
       a hashref as a third parameter to the &quot;Compare()&quot; function.  This is not
       yet available through the OO-ish interface.  These options will be in
       force for the *whole* of your comparison, so will apply to structures
       that are lurking deep down in your data as well as at the top level, so
       beware!

       ignore_hash_keys
           an arrayref of strings. When comparing two hashes, any keys mentioned
           in this list will be ignored.

CIRCULAR STRUCTURES
       Comparing a circular structure to itself returns true:

           $x = \$y;
           $y = \$x;
           Compare([$x, $y], [$x, $y]);

       And on a sort-of-related note, if you try to compare insanely deeply
       nested structures, the module will spit a warning.  For this to affect
       you, you need to go around a hundred levels deep though, and if you do
       that you have bigger problems which I can&apos;t help you with ;-)

PLUGINS
       The module takes plug-ins so you can provide specialised routines for
       comparing your own objects and data-types.  For details see
       Data::Compare::Plugins.

       Plugins are *not* available when running in &quot;taint&quot; mode.  You may also
       make it not load plugins by providing an empty list as the argument to
       import() - ie, by doing this:

           use Data::Compare ();

       A couple of functions are provided to examine what goodies have been made
       available through plugins:

       plugins
           Returns a structure (a hash ref) describing all the comparisons made
           available through plugins.  This function is *not* exported, so
           should be called as Data::Compare::plugins().  It takes no
           parameters.

       plugins_printable
           Returns formatted text

EXPORTS
       For historical reasons, the Compare() function is exported.  If you don&apos;t
       want this, then pass an empty list to import() as explained under
       PLUGINS.  If you want no export but do want plugins, then pass the empty
       list, and then call the register_plugins class method:

           use Data::Compare ();
           Data::Compare-&gt;register_plugins;

       or you could call it as a function if that floats your boat.

CODE REPOSITORY
       &lt;http://www.cantrell.org.uk/cgit/cgit.cgi/perlmodules/&gt;

BUGS
       Plugin support is not quite finished (see the TODO file for details) but
       is usable.  The missing bits are bells and whistles rather than core
       functionality.

       Plugins are unavailable if you can&apos;t change to the current directory.
       This might happen if you started your process as a priveleged user and
       then dropped priveleges.  This is due to how we check for Taintedness.
       If this affects you, please supply a portable patch.

       Please report any other bugs either by email to David Cantrell (see below
       for address) or using rt.cpan.org:

       https://rt.cpan.org/Ticket/Create.html?Queue=Data-Compare
       &lt;https://rt.cpan.org/Ticket/Create.html?Queue=Data-Compare&gt;

AUTHOR
       Fabien Tassin &lt;fta@sofaraway.org&gt;

       Portions by David Cantrell &lt;david@cantrell.org.uk&gt;

COPYRIGHT and LICENCE
       Copyright (c) 1999-2001 Fabien Tassin. All rights reserved.  This program
       is free software; you can redistribute it and/or modify it under the same
       terms as Perl itself.

       Some parts copyright 2003 - 2010 David Cantrell.

       Seeing that Fabien seems to have disappeared, David Cantrell has become a
       co-maintainer so he can apply needed patches.  The licence, of course,
       remains the same.  As the &quot;perl licence&quot; is &quot;Artistic or GPL, your
       choice&quot;, you can find them as the files ARTISTIC.txt and GPL2.txt in the
       distribution.

SEE ALSO
       perl(1), perlref(1)



perl v5.12.4                       2010-02-12                 Data::Compare(3pm)

</pre></body></html>
