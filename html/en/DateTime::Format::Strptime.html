<html>
<head><meta charset=utf-8/>
<title>DateTime::Format::Strptime - Parse and format strp and strf time patterns</title></head>
<body><pre>

DateTime::Format::StrptUser3Contributed Perl DocuDateTime::Format::Strptime(3pm)



NAME
       DateTime::Format::Strptime - Parse and format strp and strf time patterns

VERSION
       version 1.5000

SYNOPSIS
         use DateTime::Format::Strptime;

         my $Strp = new DateTime::Format::Strptime(
                                       pattern     =&gt; &apos;%T&apos;,
                                       locale      =&gt; &apos;en_AU&apos;,
                                       time_zone   =&gt; &apos;Australia/Melbourne&apos;,
                               );

         my $dt = $Strp-&gt;parse_datetime(&apos;23:16:42&apos;);

         $Strp-&gt;format_datetime($dt);
               # 23:16:42



         # Croak when things go wrong:
         my $Strp = new DateTime::Format::Strptime(
                                       pattern         =&gt; &apos;%T&apos;,
                                       locale      =&gt; &apos;en_AU&apos;,
                                       time_zone       =&gt; &apos;Australia/Melbourne&apos;,
                                       on_error        =&gt; &apos;croak&apos;,
                               );

         $newpattern = $Strp-&gt;pattern(&apos;%Q&apos;);
         # Unidentified token in pattern: %Q in %Q at line 34 of script.pl

         # Do something else when things go wrong:
         my $Strp = new DateTime::Format::Strptime(
                                       pattern         =&gt; &apos;%T&apos;,
                                       locale      =&gt; &apos;en_AU&apos;,
                                       time_zone       =&gt; &apos;Australia/Melbourne&apos;,
                                       on_error        =&gt; \&amp;phone_police,
                               );

DESCRIPTION
       This module implements most of strptime(3), the POSIX function that is
       the reverse of strftime(3), for &quot;DateTime&quot;. While &quot;strftime&quot; takes a
       &quot;DateTime&quot; and a pattern and returns a string, &quot;strptime&quot; takes a string
       and a pattern and returns the &quot;DateTime&quot; object associated.

CONSTRUCTOR
       &#183;   new( pattern=&gt;$strptime_pattern )

           Creates the format object. You must specify a pattern, you can also
           specify a &quot;time_zone&quot; and a &quot;locale&quot;. If you specify a time zone then
           any resulting &quot;DateTime&quot; object will be in that time zone. If you do
           not specify a &quot;time_zone&quot; parameter, but there is a time zone in the
           string you pass to &quot;parse_datetime&quot;, then the resulting &quot;DateTime&quot;
           will use that time zone.

           You can optionally use an on_error parameter. This parameter has
           three valid options:

           &#183;   &apos;undef&apos;
&#12;               (not undef, &apos;undef&apos;, it&apos;s a string not an undefined value)

               This is the default behavior. The module will return undef
               whenever it gets upset. The error can be accessed using the
               $object-&gt;errstr method.  This is the ideal behaviour for
               interactive use where a user might provide an illegal pattern or
               a date that doesn&apos;t match the pattern.

           &#183;   &apos;croak&apos;

               (not croak, &apos;croak&apos;, it&apos;s a string, not a function)

               This used to be the default behaviour. The module will croak with
               an error message whenever it gets upset.

           &#183;   sub{...} or \&amp;subname

               When given a code ref, the module will call that sub when it gets
               upset.  The sub receives two parameters: the object and the error
               message. Using these two it is possible to emulate the &apos;undef&apos;
               behavior. (Returning a true value causes the method to return
               undef. Returning a false value causes the method to bravely
               continue):

               sub{$_[0]-&gt;{errmsg} = $_[1]; 1},

METHODS
       This class offers the following methods.

       &#183;   parse_datetime($string)

           Given a string in the pattern specified in the constructor, this
           method will return a new &quot;DateTime&quot; object.

           If given a string that doesn&apos;t match the pattern, the formatter will
           croak or return undef, depending on the setting of on_error in the
           constructor.

       &#183;   format_datetime($datetime)

           Given a &quot;DateTime&quot; object, this methods returns a string formatted in
           the object&apos;s format. This method is synonymous with &quot;DateTime&quot;&apos;s
           strftime method.

       &#183;   locale($locale)

           When given a locale or &quot;DateTime::Locale&quot; object, this method sets
           its locale appropriately. If the locale is not understood, the method
           will croak or return undef (depending on the setting of on_error in
           the constructor)

           If successful this method returns the current locale. (After
           processing as above).

       &#183;   pattern($strptime_pattern)

           When given a pattern, this method sets the object&apos;s pattern. If the
           pattern is invalid, the method will croak or return undef (depending
           on the value of the &quot;on_error&quot; parameter)

           If successful this method returns the current pattern. (After
           processing as above)

       &#183;   time_zone($time_zone)

           When given a name, offset or &quot;DateTime::TimeZone&quot; object, this method
           sets the object&apos;s time zone. This effects the &quot;DateTime&quot; object
           returned by parse_datetime

           If the time zone is invalid, the method will croak or return undef
           (depending on the value of the &quot;on_error&quot; parameter)

           If successful this method returns the current time zone. (After
           processing as above)

       &#183;   errmsg

           If the on_error behavior of the object is &apos;undef&apos;, error messages
           with this method so you can work out why things went wrong.

           This code emulates a $DateTime::Format::Strptime with the &quot;on_error&quot;
           parameter equal to &apos;croak&apos;:

           &quot;$Strp-&quot;pattern($pattern) or die $DateTime::Format::Strptime::errmsg&gt;

EXPORTS
       There are no methods exported by default, however the following are
       available:

       &#183;   strptime($strptime_pattern, $string)

           Given a pattern and a string this function will return a new
           &quot;DateTime&quot; object.

       &#183;   strftime($strftime_pattern, $datetime)

           Given a pattern and a &quot;DateTime&quot; object this function will return a
           formatted string.

STRPTIME PATTERN TOKENS
       The following tokens are allowed in the pattern string for strptime
       (parse_datetime):

       &#183;   %%

           The % character.

       &#183;   %a or %A

           The weekday name according to the current locale, in abbreviated form
           or the full name.

       &#183;   %b or %B or %h

           The month name according to the current locale, in abbreviated form
           or the full name.

       &#183;   %C

           The century number (0-99).

       &#183;   %d or %e

           The day of month (1-31).

       &#183;   %D

           Equivalent to %m/%d/%y. (This is the American style date, very
           confusing to non-Americans, especially since %d/%m/%y is    widely
           used in Europe.  The ISO 8601 standard pattern is %F.)

       &#183;   %F
&#12;           Equivalent to %Y-%m-%d. (This is the ISO style date)

       &#183;   %g

           The year corresponding to the ISO week number, but without the
           century (0-99).

       &#183;   %G

           The year corresponding to the ISO week number.

       &#183;   %H

           The hour (0-23).

       &#183;   %I

           The hour on a 12-hour clock (1-12).

       &#183;   %j

           The day number in the year (1-366).

       &#183;   %m

           The month number (1-12).

       &#183;   %M

           The minute (0-59).

       &#183;   %n

           Arbitrary whitespace.

       &#183;   %N

           Nanoseconds. For other sub-second values use &quot;%[number]N&quot;.

       &#183;   %p

           The equivalent of AM or PM according to the locale in use. (See
           DateTime::Locale)

       &#183;   %r

           Equivalent to %I:%M:%S %p.

       &#183;   %R

           Equivalent to %H:%M.

       &#183;   %s

           Number of seconds since the Epoch.

       &#183;   %S

           The second (0-60; 60 may occur for leap seconds. See
           DateTime::LeapSecond).

       &#183;   %t

           Arbitrary whitespace.

       &#183;   %T
&#12;           Equivalent to %H:%M:%S.

       &#183;   %U

           The week number with Sunday the first day of the week (0-53). The
           first Sunday of January is the first day of week 1.

       &#183;   %u

           The weekday number (1-7) with Monday = 1. This is the &quot;DateTime&quot;
           standard.

       &#183;   %w

           The weekday number (0-6) with Sunday = 0.

       &#183;   %W

           The week number with Monday the first day of the week (0-53). The
           first Monday of January is the first day of week 1.

       &#183;   %y

           The year within century (0-99). When a century is not otherwise
           specified, values in the range 69-99 refer to years in the twentieth
           century (1969-1999); values in the range 00-68 refer to years in the
           twenty-first century (2000-2068).

       &#183;   %Y

           The year, including century (for example, 1991).

       &#183;   %z

           An RFC-822/ISO 8601 standard time zone specification. (For example
           +1100) [See note below]

       &#183;   %Z

           The timezone name. (For example EST -- which is ambiguous) [See note
           below]

       &#183;   %O

           This extended token allows the use of Olson Time Zone names to appear
           in parsed strings. NOTE: This pattern cannot be passed to
           &quot;DateTime&quot;&apos;s &quot;strftime()&quot; method, but can be passed to
           &quot;format_datetime()&quot;.

AUTHOR EMERITUS
       This module was created by Rick Measham.

BUGS
       Please report any bugs or feature requests to
       &quot;bug-datetime-format-strptime@rt.cpan.org&quot;, or through the web interface
       at &lt;http://rt.cpan.org&gt;. I will be notified, and then you&apos;ll
       automatically be notified of progress on your bug as I make changes.

SEE ALSO
       &quot;datetime@perl.org&quot; mailing list.

       http://datetime.perl.org/

       perl, DateTime, DateTime::TimeZone, DateTime::Locale

AUTHOR
       Dave Rolsky &lt;autarch@urth.org&gt;
&#12;COPYRIGHT AND LICENSE
       This software is Copyright (c) 2010 by Dave Rolsky.

       This is free software, licensed under:

         The Artistic License 2.0



perl v5.10.1                       2010-10-16    DateTime::Format::Strptime(3pm)

</pre></body></html>
