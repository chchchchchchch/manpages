<html>
<head><meta charset=utf-8/>
<title>DateTime::TimeZone - Time zone object base class and factory</title></head>
<body><pre>

DateTime::TimeZone(3pm)User Contributed Perl DocumentatioDateTime::TimeZone(3pm)



NAME
       DateTime::TimeZone - Time zone object base class and factory

VERSION
       version 1.58

SYNOPSIS
         use DateTime;
         use DateTime::TimeZone;

         my $tz = DateTime::TimeZone-&gt;new( name =&gt; &apos;America/Chicago&apos; );

         my $dt = DateTime-&gt;now();
         my $offset = $tz-&gt;offset_for_datetime($dt);

DESCRIPTION
       This class is the base class for all time zone objects.  A time zone is
       represented internally as a set of observances, each of which describes
       the offset from GMT for a given time period.

       Note that without the &quot;DateTime.pm&quot; module, this module does not do much.
       It&apos;s primary interface is through a &quot;DateTime&quot; object, and most users
       will not need to directly use &quot;DateTime::TimeZone&quot; methods.

USAGE
       This class has the following methods:

   DateTime::TimeZone-&gt;new( name =&gt; $tz_name )
       Given a valid time zone name, this method returns a new time zone blessed
       into the appropriate subclass.  Subclasses are named for the given time
       zone, so that the time zone &quot;America/Chicago&quot; is the
       DateTime::TimeZone::America::Chicago class.

       If the name given is a &quot;link&quot; name in the Olson database, the object
       created may have a different name.  For example, there is a link from the
       old &quot;EST5EDT&quot; name to &quot;America/New_York&quot;.

       When loading a time zone from the Olson database, the constructor checks
       the version of the loaded class to make sure it matches the version of
       the current DateTime::TimeZone installation. If they do not match it will
       issue a warning. This is useful because time zone names may fall out of
       use, but you may have an old module file installed for that time zone.

       There are also several special values that can be given as names.

       If the &quot;name&quot; parameter is &quot;floating&quot;, then a
       &quot;DateTime::TimeZone::Floating&quot; object is returned.  A floating time zone
       does have any offset, and is always the same time.  This is useful for
       calendaring applications, which may need to specify that a given event
       happens at the same local time, regardless of where it occurs.  See RFC
       2445 for more details.

       If the &quot;name&quot; parameter is &quot;UTC&quot;, then a &quot;DateTime::TimeZone::UTC&quot; object
       is returned.

       If the &quot;name&quot; is an offset string, it is converted to a number, and a
       &quot;DateTime::TimeZone::OffsetOnly&quot; object is returned.

       The &quot;local&quot; time zone

       If the &quot;name&quot; parameter is &quot;local&quot;, then the module attempts to determine
       the local time zone for the system.

       The method for finding the local zone varies by operating system. See the
       appropriate module for details of how we check for the local time zone.

       &#183;   DateTime::TimeZone::Local::Unix

       &#183;   DateTime::TimeZone::Local::Win32

       &#183;   DateTime::TimeZone::Local::VMS

       If a local time zone is not found, then an exception will be thrown.

   $tz-&gt;offset_for_datetime( $dt )
       Given a &quot;DateTime&quot; object, this method returns the offset in seconds for
       the given datetime.  This takes into account historical time zone
       information, as well as Daylight Saving Time.  The offset is determined
       by looking at the object&apos;s UTC Rata Die days and seconds.

   $tz-&gt;offset_for_local_datetime( $dt )
       Given a &quot;DateTime&quot; object, this method returns the offset in seconds for
       the given datetime.  Unlike the previous method, this method uses the
       local time&apos;s Rata Die days and seconds.  This should only be done when
       the corresponding UTC time is not yet known, because local times can be
       ambiguous due to Daylight Saving Time rules.

   $tz-&gt;is_dst_for_datetime( $dt )
       Given a &quot;DateTime&quot; object, this method returns true if the DateTime is
       currently in Daylight Saving Time.

   $tz-&gt;name
       Returns the name of the time zone.

   $tz-&gt;short_name_for_datetime( $dt )
       Given a &quot;DateTime&quot; object, this method returns the &quot;short name&quot; for the
       current observance and rule this datetime is in.  These are names like
       &quot;EST&quot;, &quot;GMT&quot;, etc.

       It is strongly recommended that you do not rely on these names for
       anything other than display.  These names are not official, and many of
       them are simply the invention of the Olson database maintainers.
       Moreover, these names are not unique.  For example, there is an &quot;EST&quot; at
       both -0500 and +1000/+1100.

   $tz-&gt;is_floating
       Returns a boolean indicating whether or not this object represents a
       floating time zone, as defined by RFC 2445.

   $tz-&gt;is_utc
       Indicates whether or not this object represents the UTC (GMT) time zone.

   $tz-&gt;has_dst_changes
       Indicates whether or not this zone has ever had a change to and from DST,
       either in the past or future.

   $tz-&gt;is_olson
       Returns true if the time zone is a named time zone from the Olson
       database.

   $tz-&gt;category
       Returns the part of the time zone name before the first slash.  For
       example, the &quot;America/Chicago&quot; time zone would return &quot;America&quot;.

   DateTime::TimeZone-&gt;is_valid_name($name)
       Given a string, this method returns a boolean value indicating whether or
       not the string is a valid time zone name.  If you are using
       &quot;DateTime::TimeZone::Alias&quot;, any aliases you&apos;ve created will be valid.

   DateTime::TimeZone-&gt;all_names
       This returns a pre-sorted list of all the time zone names.  This list
       does not include link names.  In scalar context, it returns an array
       reference, while in list context it returns an array.

   DateTime::TimeZone-&gt;categories
       This returns a list of all time zone categories.  In scalar context, it
       returns an array reference, while in list context it returns an array.

   DateTime::TimeZone-&gt;links
       This returns a hash of all time zone links, where the keys are the old,
       deprecated names, and the values are the new names.  In scalar context,
       it returns a hash reference, while in list context it returns a hash.

   DateTime::TimeZone-&gt;names_in_category( $category )
       Given a valid category, this method returns a list of the names in that
       category, without the category portion.  So the list for the &quot;America&quot;
       category would include the strings &quot;Chicago&quot;, &quot;Kentucky/Monticello&quot;, and
       &quot;New_York&quot;. In scalar context, it returns an array reference, while in
       list context it returns an array.

   DateTime::TimeZone-&gt;countries()
       Returns a sorted list of all the valid country codes (in lower-case)
       which can be passed to &quot;names_in_country()&quot;. In scalar context, it
       returns an array reference, while in list context it returns an array.

       If you need to convert country codes to names or vice versa you can use
       &quot;Locale::Country&quot; to do so.

   DateTime::TimeZone-&gt;names_in_country( $country_code )
       Given a two-letter ISO3166 country code, this method returns a list of
       time zones used in that country. The country code may be of any case. In
       scalar context, it returns an array reference, while in list context it
       returns an array.

       This list is returned in an order vaguely based on geography and
       population. In general, the least used zones come last, but there are not
       guarantees of a specific order from one release to the next. This order
       is probably the best option for presenting zones names to end users.

   DateTime::TimeZone-&gt;offset_as_seconds( $offset )
       Given an offset as a string, this returns the number of seconds
       represented by the offset as a positive or negative number.  Returns
       &quot;undef&quot; if $offset is not in the range &quot;-99:59:59&quot; to &quot;+99:59:59&quot;.

       The offset is expected to match either
       &quot;/^([\+\-])?(\d\d?):(\d\d)(?::(\d\d))?$/&quot; or
       &quot;/^([\+\-])?(\d\d)(\d\d)(\d\d)?$/&quot;.  If it doesn&apos;t match either of these,
       &quot;undef&quot; will be returned.

       This means that if you want to specify hours as a single digit, then each
       element of the offset must be separated by a colon (:).

   DateTime::TimeZone-&gt;offset_as_string( $offset )
       Given an offset as a number, this returns the offset as a string.
       Returns &quot;undef&quot; if $offset is not in the range &quot;-359999&quot; to 359999.

   Storable Hooks
       This module provides freeze and thaw hooks for &quot;Storable&quot; so that the
       huge data structures for Olson time zones are not actually stored in the
       serialized structure.

       If you subclass &quot;DateTime::TimeZone&quot;, you will inherit its hooks, which
       may not work for your module, so please test the interaction of your
       module with Storable.

SUPPORT
       Support for this module is provided via the datetime@perl.org email list.
       See http://datetime.perl.org/wiki/datetime/page/Mailing_List for details.

       Please submit bugs to the CPAN RT system at
       http://rt.cpan.org/NoAuth/ReportBug.html?Queue=datetime%3A%3Atimezone or
       via email at bug-datetime-timezone@rt.cpan.org.

DONATIONS
       If you&apos;d like to thank me for the work I&apos;ve done on this module, please
       consider making a &quot;donation&quot; to me via PayPal. I spend a lot of free time
       creating free software, and would appreciate any support you&apos;d care to
       offer.

       Please note that I am not suggesting that you must do this in order for
       me to continue working on this particular software. I will continue to do
       so, inasmuch as I have in the past, for as long as it interests me.

       Similarly, a donation made in this way will probably not make me work on
       this software much more, unless I get so many donations that I can
       consider working on free software full time, which seems unlikely at
       best.

       To donate, log into PayPal and send money to autarch@urth.org or use the
       button on this page: http://www.urth.org/~autarch/fs-donation.html
       &lt;http://www.urth.org/~autarch/fs-donation.html&gt;

CREDITS
       This module was inspired by Jesse Vincent&apos;s work on Date::ICal::Timezone,
       and written with much help from the datetime@perl.org list.

SEE ALSO
       datetime@perl.org mailing list

       http://datetime.perl.org/

       The tools directory of the DateTime::TimeZone distribution includes two
       scripts that may be of interest to some people.  They are parse_olson and
       tests_from_zdump.  Please run them with the --help flag to see what they
       can be used for.

AUTHOR
       Dave Rolsky &lt;autarch@urth.org&gt;

COPYRIGHT AND LICENSE
       This software is copyright (c) 2013 by Dave Rolsky.

       This is free software; you can redistribute it and/or modify it under the
       same terms as the Perl 5 programming language system itself.



perl v5.14.2                       2013-03-11            DateTime::TimeZone(3pm)

</pre></body></html>
