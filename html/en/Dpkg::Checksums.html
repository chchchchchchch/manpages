<html>
<head><meta charset=utf-8/>
<title>Dpkg::Checksums - generate and manipulate file checksums</title></head>
<body><pre>

Dpkg::Checksums(3)                libdpkg-perl                Dpkg::Checksums(3)



NAME
       Dpkg::Checksums - generate and manipulate file checksums

DESCRIPTION
       This module provides an object that can generate and manipulate various
       file checksums as well as some methods to query information about
       supported checksums.

EXPORTED FUNCTIONS
       @list = checksums_get_list()
           Returns the list of supported checksums algorithms.

       $bool = checksums_is_supported($alg)
           Returns a boolean indicating whether the given checksum algorithm is
           supported. The checksum algorithm is case-insensitive.

       $value = checksums_get_property($alg, $property)
           Returns the requested property of the checksum algorithm. Returns
           undef if either the property or the checksum algorithm doesn&apos;t exist.
           Valid properties currently include &quot;program&quot; (returns an array
           reference with a program name and parameters required to compute the
           checksum of the filename given as last parameter) and &quot;regex&quot; for the
           regular expression describing the common string representation of the
           checksum (as output by the program that generates it).

OBJECT METHODS
       my $ck = Dpkg::Checksums-&gt;new()
           Create a new Dpkg::Checksums object. This object is able to store the
           checksums of several files to later export them or verify them.

       $ck-&gt;reset()
           Forget about all checksums stored. The object is again in the same
           state as if it was newly created.

       $ck-&gt;add_from_file($filename, %opts)
           Add checksums information for the file $filename. The file must
           exists for the call to succeed. If you don&apos;t want the given filename
           to appear when you later export the checksums you might want to set
           the &quot;key&quot; option with the public name that you want to use. Also if
           you don&apos;t want to generate all the checksums, you can pass an array
           reference of the wanted checksums in the &quot;checksums&quot; option.

           It the object already contains checksums information associated the
           filename (or key), it will error out if the newly computed
           information does not match what&apos;s stored.

       $ck-&gt;add_from_string($alg, $value)
           Add checksums of type $alg that are stored in the $value variable.
           $value can be multi-lines, each line should be a space separated list
           of checksum, file size and filename. Leading or trailing spaces are
           not allowed.

           It the object already contains checksums information associated to
           the filenames, it will error out if the newly read information does
           not match what&apos;s stored.

       $ck-&gt;add_from_control($control, %opts)
           Read checksums from Checksums-* fields stored in the Dpkg::Control
           object $control. It uses $self-&gt;add_from_string() on the field values
           to do the actual work.

           If the option &quot;use_files_for_md5&quot; evaluates to true, then the &quot;Files&quot;
           field is used in place of the &quot;Checksums-Md5&quot; field. By default the
           option is false.

       @files = $ck-&gt;get_files()
           Return the list of files whose checksums are stored in the object.

       $bool = $ck-&gt;has_file($file)
           Return true if we have checksums for the given file. Returns false
           otherwise.

       $ck-&gt;remove_file($file)
           Remove all checksums of the given file.

       $checksum = $ck-&gt;get_checksum($file, $alg)
           Return the checksum of type $alg for the requested $file. This will
           not compute the checksum but only return the checksum stored in the
           object, if any.

           If $alg is not defined, it returns a reference to a hash: keys are
           the checksum algorithms and values are the checksums themselves. The
           hash returned must not be modified, it&apos;s internal to the object.

       $size = $ck-&gt;get_size($file)
           Return the size of the requested file if it&apos;s available in the
           object.

       $ck-&gt;export_to_string($alg, %opts)
           Return a multi-line string containing the checksums of type $alg. The
           string can be stored as-is in a Checksum-* field of a Dpkg::Control
           object.

       $ck-&gt;export_to_control($control, %opts)
           Export the checksums in the Checksums-* fields of the Dpkg::Control
           $control object.

AUTHOR
       Rapha&#195;&#171;l Hertzog &lt;hertzog@debian.org&gt;.



1.16.16                            2015-04-09                 Dpkg::Checksums(3)

</pre></body></html>
