<html>
<head><meta charset=utf-8/>
<title>Dpkg::Index - generic index of control information</title></head>
<body><pre>

Dpkg::Index(3)                    libdpkg-perl                    Dpkg::Index(3)



NAME
       Dpkg::Index - generic index of control information

DESCRIPTION
       This object represent a set of Dpkg::Control objects.

FUNCTIONS
       my $index = Dpkg::Index-&gt;new(%opts)
           Creates a new empty index. See set_options() for more details.

       $index-&gt;set_options(%opts)
           The &quot;type&quot; option is checked first to define default values for other
           options. Here are the relevant options: &quot;get_key_func&quot; is a function
           returning a key for the item passed in parameters. The index can only
           contain one item with a given key. The function used depend on the
           type: for CTRL_INFO_PKG, CTRL_INDEX_SRC, CTRL_INDEX_PKG and
           CTRL_PKG_DEB it&apos;s simply the Package field; for CTRL_PKG_SRC and
           CTRL_INFO_SRC, it&apos;s the Source field; for CTRL_CHANGELOG it&apos;s the
           Source and the Version fields (concatenated with an intermediary
           &quot;_&quot;); for CTRL_FILE_CHANGES it&apos;s the Source, Version and Architecture
           fields (concatenated with &quot;_&quot;); for CTRL_FILE_VENDOR it&apos;s the Vendor
           field; for CTRL_FILE_STATUS it&apos;s the Package and Architecture fields
           (concatenated with &quot;_&quot;). Otherwise it&apos;s the Package field by default.

       $index-&gt;get_type()
           Returns the type of control information stored. See the type
           parameter set during new().

       $index-&gt;add($item, [$key])
           Add a new item in the index. If the $key parameter is omitted, the
           key will be generated with the get_key_func function (see
           set_options() for details).

       $index-&gt;load($file)
           Reads the file and creates all items parsed. Returns the number of
           items parsed. Handles compressed files transparently based on their
           extensions.

       $index-&gt;parse($fh, $desc)
           Reads the filehandle and creates all items parsed. Returns the number
           of items parsed.

       $index-&gt;save($file)
           Writes the content of the index in a file. Auto-compresses files
           based on their extensions.

       my $item = $index-&gt;new_item()
           Creates a new item. Mainly useful for derived objects that would want
           to override this method to return something else than a Dpkg::Control
           object.

       my $item = $index-&gt;get_by_key($key)
           Returns the item identified by $key or undef.

       my @keys = $index-&gt;get_keys(%criteria)
           Returns the keys of items that matches all the criteria. The key of
           the %criteria hash is a field name and the value is either a regexp
           that needs to match the field value, or a reference to a function
           that must return true and that receives the field value as single
           parameter, or a scalar that must be equal to the field value.

       my @items = $index-&gt;get(%criteria)
           Returns all the items that matches all the criteria.
&#12;       $index-&gt;remove_by_key($key)
           Remove the item identified by the given key.

       my @items = $index-&gt;remove(%criteria)
           Returns and removes all the items that matches all the criteria.

       $index-&gt;merge($other_index, %opts)
           Merge the entries of the other index. While merging, the keys of the
           merged index are used, they are not re-computed (unless you have set
           the options &quot;keep_keys&quot; to &quot;0&quot;). It&apos;s your responsibility to ensure
           that they have been computed with the same function.

       $index-&gt;sort(\&amp;sortfunc)
           Sort the index with the given sort function. If no function is given,
           an alphabetic sort is done based on the keys. The sort function
           receives the items themselves as parameters and not the keys.

       my $str = $index-&gt;output()
       &quot;$index&quot;
           Get a string representation of the index. The Dpkg::Control objects
           are output in the order which they have been read or added except if
           the order hae been changed with sort().

       $index-&gt;output($fh)
           Print the string representation of the index to a filehandle.

AUTHOR
       Rapha&#195;&#171;l Hertzog &lt;hertzog@debian.org&gt;.



1.16.16                            2015-04-09                     Dpkg::Index(3)

</pre></body></html>
