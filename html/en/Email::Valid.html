<html>
<head><meta charset=utf-8/>
<title>Email::Valid - Check validity of Internet email addresses</title></head>
<body><pre>

Email::Valid(3pm)      User Contributed Perl Documentation     Email::Valid(3pm)



NAME
       Email::Valid - Check validity of Internet email addresses

SYNOPSIS
         use Email::Valid;
         print (Email::Valid-&gt;address(&apos;maurice@hevanet.com&apos;) ? &apos;yes&apos; : &apos;no&apos;);

DESCRIPTION
       This module determines whether an email address is well-formed, and
       optionally, whether a mail host exists for the domain.

       Please note that there is no way to determine whether an address is
       deliverable without attempting delivery (for details, see perlfaq 9).

PREREQUISITES
       This module requires perl 5.004 or later and the Mail::Address module.
       Either the Net::DNS module or the nslookup utility is required for DNS
       checks.  The Net::Domain::TLD module is required to check the validity of
       top level domains.

METHODS
         Every method which accepts an &lt;ADDRESS&gt; parameter may
         be passed either a string or an instance of the Mail::Address
         class.  All errors raise an exception.

       new ( [PARAMS] )
           This method is used to construct an Email::Valid object.  It accepts
           an optional list of named parameters to control the behavior of the
           object at instantiation.

           The following named parameters are allowed.  See the individual
           methods below of details.

            -mxcheck
            -tldcheck
            -fudge
            -fqdn
            -allow_ip
            -local_rules

       mx ( &lt;ADDRESS&gt;|&lt;DOMAIN&gt; )
           This method accepts an email address or domain name and determines
           whether a DNS record (A or MX) exists for it.

           The method returns true if a record is found and undef if not.

           Either the Net::DNS module or the nslookup utility is required for
           DNS checks.  Using Net::DNS is the preferred method since error
           handling is improved.  If Net::DNS is available, you can modify the
           behavior of the resolver (e.g. change the default tcp_timeout value)
           by manipulating the global Net::DNS::Resolver instance stored in
           $Email::Valid::Resolver.

       rfc822 ( &lt;ADDRESS&gt; )
           This method determines whether an address conforms to the RFC822
           specification (except for nested comments).  It returns true if it
           conforms and undef if not.

       fudge ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Specifies whether calls to address() should attempt to correct common
           addressing errors.  Currently, this results in the removal of spaces
           in AOL addresses, and the conversion of commas to periods in
           Compuserve addresses.  The default is false.

       allow_ip ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Specifies whether a &quot;domain literal&quot; is acceptable as the domain
           part.  That means addresses like:  &quot;rjbs@[1.2.3.4]&quot;

           The checking for the domain literal is stricter than the RFC and
           looser than checking for a valid IP address, but this is subject to
           change.

           The default is true.

       fqdn ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Species whether addresses passed to address() must contain a fully
           qualified domain name (FQDN).  The default is true.

           Please note!  FQDN checks only occur for non-domain-literals.  In
           other words, if you have set &quot;allow_ip&quot; and the address ends in a
           bracketed IP address, the FQDN check will not occur.

       tld ( &lt;ADDRESS&gt; )
           This method determines whether the domain part of an address is in a
           recognized top-level domain.

           Please note!  TLD checks only occur for non-domain-literals.  In
           other words, if you have set &quot;allow_ip&quot; and the address ends in a
           bracketed IP address, the TLD check will not occur.

       local_rules ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Specifies whether addresses passed to address() should be tested for
           domain specific restrictions.  Currently, this is limited to certain
           AOL restrictions that I&apos;m aware of.  The default is false.

       mxcheck ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Specifies whether addresses passed to address() should be checked for
           a valid DNS entry.  The default is false.

       tldcheck ( &lt;TRUE&gt;|&lt;FALSE&gt; )
           Specifies whether addresses passed to address() should be checked for
           a valid top level domains.  The default is false.

       address ( &lt;ADDRESS&gt; )
           This is the primary method which determines whether an email address
           is valid.  It&apos;s behavior is modified by the values of mxcheck(),
           tldcheck(), local_rules(), fqdn(), and fudge().  If the address
           passes all checks, the (possibly modified) address is returned as a
           string.  Otherwise, the undefined value is returned.  In a list
           context, the method also returns an instance of the Mail::Address
           class representing the email address.

       details ()
           If the last call to address() returned undef, you can call this
           method to determine why it failed.  Possible values are:

            rfc822
            localpart
            local_rules
            fqdn
            mxcheck
            tldcheck

           If the class is not instantiated, you can get the same information
           from the global $Email::Valid::Details.

EXAMPLES
       Let&apos;s see if the address &apos;maurice@hevanet.com&apos; conforms to the RFC822
       specification:

         print (Email::Valid-&gt;address(&apos;maurice@hevanet.com&apos;) ? &apos;yes&apos; : &apos;no&apos;);

       Additionally, let&apos;s make sure there&apos;s a mail host for it:

         print (Email::Valid-&gt;address( -address =&gt; &apos;maurice@hevanet.com&apos;,
                                       -mxcheck =&gt; 1 ) ? &apos;yes&apos; : &apos;no&apos;);

       Let&apos;s see an example of how the address may be modified:

         $addr = Email::Valid-&gt;address(&apos;Alfred Neuman &lt;Neuman @ foo.bar&gt;&apos;);
         print &quot;$addr\n&quot;; # prints Neuman@foo.bar

       Now let&apos;s add the check for top level domains:

         $addr = Email::Valid-&gt;address( -address =&gt; &apos;Neuman@foo.bar&apos;,
                                        -tldcheck =&gt; 1 );
         print &quot;$addr\n&quot;; # doesn&apos;t print anything

       Need to determine why an address failed?

         unless(Email::Valid-&gt;address(&apos;maurice@hevanet&apos;)) {
           print &quot;address failed $Email::Valid::Details check.\n&quot;;
         }

       If an error is encountered, an exception is raised.  This is really only
       possible when performing DNS queries.  Trap any exceptions by wrapping
       the call in an eval block:

         eval {
           $addr = Email::Valid-&gt;address( -address =&gt; &apos;maurice@hevanet.com&apos;,
                                          -mxcheck =&gt; 1 );
         };
         warn &quot;an error was encountered: $@&quot; if $@;

BUGS
       Email::Valid should work with Perl for Win32.  In my experience, however,
       Net::DNS queries seem to take an extremely long time when a record cannot
       be found.

AUTHOR
       Copyright 1998-2003, Maurice Aubrey &lt;maurice@hevanet.com&gt;.  All rights
       reserved.

       This module is free software; you may redistribute it and/or modify it
       under the same terms as Perl itself.

CREDITS
       Significant portions of this module are based on the ckaddr program
       written by Tom Christiansen and the RFC822 address pattern developed by
       Jeffrey Friedl.  Neither were involved in the construction of this
       module; all errors are mine.

       Thanks very much to the following people for their suggestions and bug
       fixes:

         Otis Gospodnetic &lt;otis@DOMINIS.com&gt;
         Kim Ryan &lt;kimaryan@ozemail.com.au&gt;
         Pete Ehlke &lt;pde@listserv.music.sony.com&gt;
         Lupe Christoph
         David Birnbaum
         Achim
         Elizabeth Mattijsen (liz@dijkmat.nl)

SEE ALSO
       Mail::Address, Net::DNS, Net::Domain::TLD, perlfaq9



perl v5.14.2                       2012-03-27                  Email::Valid(3pm)

</pre></body></html>
