<html>
<head><meta charset=utf-8/>
<title>File::Listing - parse directory listing</title></head>
<body><pre>

File::Listing(3pm)     User Contributed Perl Documentation    File::Listing(3pm)



NAME
       File::Listing - parse directory listing

SYNOPSIS
        use File::Listing qw(parse_dir);
        $ENV{LANG} = &quot;C&quot;;  # dates in non-English locales not supported
        for (parse_dir(`ls -l`)) {
            ($name, $type, $size, $mtime, $mode) = @$_;
            next if $type ne &apos;f&apos;; # plain file
            #...
        }

        # directory listing can also be read from a file
        open(LISTING, &quot;zcat ls-lR.gz|&quot;);
        $dir = parse_dir(\*LISTING, &apos;+0000&apos;);

DESCRIPTION
       This module exports a single function called parse_dir(), which can be
       used to parse directory listings.

       The first parameter to parse_dir() is the directory listing to parse.  It
       can be a scalar, a reference to an array of directory lines or a glob
       representing a filehandle to read the directory listing from.

       The second parameter is the time zone to use when parsing time stamps in
       the listing. If this value is undefined, then the local time zone is
       assumed.

       The third parameter is the type of listing to assume.  Currently
       supported formats are &apos;unix&apos;, &apos;apache&apos; and &apos;dosftp&apos;.  The default value
       is &apos;unix&apos;.  Ideally, the listing type should be determined automatically.

       The fourth parameter specifies how unparseable lines should be treated.
       Values can be &apos;ignore&apos;, &apos;warn&apos; or a code reference.  Warn means that the
       perl warn() function will be called.  If a code reference is passed, then
       this routine will be called and the return value from it will be
       incorporated in the listing.  The default is &apos;ignore&apos;.

       Only the first parameter is mandatory.

       The return value from parse_dir() is a list of directory entries.  In a
       scalar context the return value is a reference to the list.  The
       directory entries are represented by an array consisting of [ $filename,
       $filetype, $filesize, $filetime, $filemode ].  The $filetype value is one
       of the letters &apos;f&apos;, &apos;d&apos;, &apos;l&apos; or &apos;?&apos;.  The $filetime value is the seconds
       since Jan 1, 1970.  The $filemode is a bitmask like the mode returned by
       stat().

COPYRIGHT
       Copyright 1996-2010, Gisle Aas

       Based on lsparse.pl (from Lee McLoughlin&apos;s ftp mirror package) and
       Net::FTP&apos;s parse_dir (Graham Barr).

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.14.2                       2012-02-15                 File::Listing(3pm)

</pre></body></html>
