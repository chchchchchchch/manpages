<html>
<head><meta charset=utf-8/>
<title>Font::FreeType::Glyph - glyphs from font typefaces loaded from Font::FreeType</title></head>
<body><pre>

Font::FreeType::Glyph(3User Contributed Perl DocumentaFont::FreeType::Glyph(3pm)



NAME
       Font::FreeType::Glyph - glyphs from font typefaces loaded from
       Font::FreeType

SYNOPSIS
           use Font::FreeType;

           my $freetype = Font::FreeType-&gt;new;
           my $face = $freetype-&gt;face(&apos;Vera.ttf&apos;);
           $face-&gt;set_char_size(24, 24, 100, 100);

           my $glyph = $face-&gt;glyph_from_char(&apos;A&apos;);
           my $glyph = $face-&gt;glyph_from_char_code(65);

           # Render into an array of strings, one byte per pixel.
           my ($bitmap, $left, $top) = $glyph-&gt;bitmap;

           # Read vector outline.
           $glyph-&gt;outline_decompose(
               move_to =&gt; sub { ... },
               line_to =&gt; sub { ... },
               conic_to =&gt; sub { ... },
               cubic_to =&gt; sub { ... },
           );

DESCRIPTION
       This class represents an individual glyph (character image) loaded from a
       font.  See Font::FreeType::Face for how to obtain a glyph object, in
       particular the &quot;glyph_from_char_code()&quot; and &quot;glyph_from_char()&quot; methods.

       Things you an do with glyphs include:

       &#183;   Get metadata about the glyph, such as the size of its image and other
           metrics.

       &#183;   Render a bitmap image of the glyph (if it&apos;s from a vector font) or
           extract the existing bitmap (if it&apos;s from a bitmap font), using the
           &quot;bitmap()&quot; method.

       &#183;   Extract a precise description of the lines and curves that make up
           the glyph&apos;s outline, using the &quot;outline_decompose()&quot; method.

       For a detailed description of the meaning of glyph metrics, and the
       structure of vectorial outlines, see
       &lt;http://freetype.sourceforge.net/freetype2/docs/glyphs/&gt;

METHODS
       Unless otherwise stated, all methods will die if there is an error, and
       the metrics are scaled to the size of the font face.

       bitmap([render-mode])
           If the glyph is from a bitmap font, the bitmap image is returned.  If
           it is from a vector font, then the outline is rendered into a bitmap
           at the face&apos;s current size.

           Three values are returned: the bitmap itself, the number of pixels
           from the origin to where the left of the area the bitmap describes,
           and the number of pixels from the origin to the top of the area of
           the bitmap (positive being up).

           The bitmap value is a reference to an array.  Each item in the array
           represents a line of the bitmap, starting from the top.  Each item is
           a string of bytes, with one byte representing one pixel of the image,
           starting from the left.  A value of 0 indicates background (outside
           the glyph outline), and 255 represents a point inside the outline.

           If antialiasing is used then shades of grey between 0 and 255 may
           occur.  Antialiasing is performed by default, but can be turned off
           by passing the &quot;FT_RENDER_MODE_MONO&quot; option.

           The size of the bitmap can be obtained as follows:

               my ($bitmap, $left, $top) = $glyph-&gt;bitmap;
               my $width = length $bitmap-&gt;[0];
               my $height = @$bitmap;

           The optional &quot;render_mode&quot; argument can be any one of the following:

           FT_RENDER_MODE_NORMAL
               The default.  Uses antialiasing.

           FT_RENDER_MODE_LIGHT
               Changes the hinting algorithm to make the glyph image closer to
               it&apos;s real shape, but probably more fuzzy.

               Only available with Freetype version 2.1.4 or newer.

           FT_RENDER_MODE_MONO
               Render with antialiasing disabled.  Each pixel will be either 0
               or 255.

           FT_RENDER_MODE_LCD
               Render in colour for an LCD display, with three times as many
               pixels across the image as normal.  This mode probably won&apos;t work
               yet.

               Only available with Freetype version 2.1.3 or newer.

           FT_RENDER_MODE_LCD_V
               Render in colour for an LCD display, with three times as many
               rows down the image as normal.  This mode probably won&apos;t work
               yet.

               Only available with Freetype version 2.1.3 or newer.

       bitmap_magick([render_mode])
           A simple wrapper around the &quot;bitmap()&quot; method.  Renders the bitmap as
           normal and returns it as an Image::Magick object, which can then be
           composited onto a larger bitmapped image, or manipulated using any of
           the features available in Image::Magick.

           The image is in the &apos;gray&apos; format, with a depth of 8 bits.

           The left and top distances in pixels are returned as well, in the
           same way as for the &quot;bitmap()&quot; method.

           This method, particularly the use of the left and top offsets for
           correct positioning of the bitmap, is demonstrated in the magick.pl
           example program.

       bitmap_pgm([render_mode])
           A simple wrapper around the &quot;bitmap()&quot; method.  It renders the bitmap
           and constructs it into a PGM (portable grey-map) image file, which it
           returns as a string.  The optional render-mode is passed directly to
           the &quot;bitmap()&quot; method.

           The PGM image returned is in the &apos;binary&apos; format, with one byte per
           pixel.  It is not an efficient format, but can be read by many image
           manipulation programs.  For a detailed description of the format see
           &lt;http://netpbm.sourceforge.net/doc/pgm.html&gt;

           The left and top distances in pixels are returned as well, in the
           same way as for the &quot;bitmap()&quot; method.

           The render-glyph.pl example program uses this method.

       char_code()
           The character code (in Unicode) of the glyph.  Could potentially
           return codes in other character sets if the font doesn&apos;t have a
           Unicode character mapping, but most modern fonts do.

       has_outline()
           True if the glyph has a vector outline, in which case it is safe to
           call &quot;outline_decompose()&quot;.  Otherwise, the glyph only has a bitmap
           image.

       height()
           The height of the glyph.

       horizontal_advance()
           The distance from the origin of this glyph to the place where the
           next glyph&apos;s origin should be.  Only applies to horizontal layouts.
           Always positive, so for right-to-left text (such as Hebrew) it should
           be subtracted from the current glyph&apos;s position.

       index()
           The glyph&apos;s index number in the font.  This number is determined by
           the FreeType library, and so isn&apos;t necessarily the same as any
           special index number used by the font format.

       left_bearing()
           The left side bearing, which is the distance from the origin to the
           left of the glyph image.  Usually positive for horizontal layouts and
           negative for vertical ones.

       name()
           The name of the glyph, if the font format supports glyph names,
           otherwise undef.

       outline_bbox()
           The bounding box of the glyph&apos;s outline.  This box will enclose all
           the &apos;ink&apos; that would be laid down if the outline were filled in.  It
           is calculated by studying each segment of the outline, so may not be
           particularly efficient.

           The bounding box is returned as a list of four values, so the method
           should be called as follows:

               my ($xmin, $ymin, $xmax, $ymax) = $glyph-&gt;outline_bbox();

       outline_decompose(%callbacks)
           This method can be used to extract a description of the glyph&apos;s
           outline, scaled to the face&apos;s current size.  It will die if the glyph
           doesn&apos;t have an outline (if it comes from a bitmap font).

           Vector outlines of glyphs are represented by a sequence of
           operations.  Each operation can start a new curve (by moving the
           imaginary pen position), or draw a line or curve from the current
           position of the pen to a new position.  This Perl interface will walk
           through the outline calling subroutines (through code references you
           supply) for each operation.  Arguments are passed to your subroutines
           as normal, in @_.

           Note: when you intend to extract the outline of a glyph, always pass
           the &quot;FT_LOAD_NO_HINTING&quot; option when creating the face object, or the
           hinting will distort the outline.

           The %callbacks parameter should contain three or four of the
           following keys, each with a reference to a &quot;sub&quot; as it&apos;s value.  The
           &quot;conic_to&quot; handler is optional, but the others are required.

           &quot;move_to&quot;
               Move the pen to a new position, without adding anything to the
               outline.  The first operation should always be &quot;move_to&quot;, but
               characters with disconnected parts, such as &quot;i&quot;, might have
               several of these.

               The x and y coordinates of the new pen position are supplied.

           &quot;line_to&quot;
               Move the pen to a new position, drawing a straight line from the
               old position.

               The x and y coordinates of the new pen position are supplied.
               Depending you how you are using this information you may have to
               keep track of the previous position yourself.

           &quot;conic_to&quot;
               Move the pen to a new position, drawing a conic Bezier arc (also
               known as a quadratic Bezier curve) from the old position, using a
               single control point.

               If you don&apos;t supply a &quot;conic_to&quot; handler, all conic curves will
               be automatically translated into cubic curves.

               The x and y coordinates of the new pen position are supplied,
               followed by the x and y coordinates of the control point.

           &quot;cubic_to&quot;
               Move the pen to a new position, drawing a cubic Bezier arc from
               the old position, using two control points.

               Cubic arcs are the ones produced in PostScript by the &quot;curveto&quot;
               operator.

               The x and y coordinates of the new pen position are supplied,
               followed by the x and y coordinates of the first control point,
               then the same for the second control point.

           Note that TrueType fonts use conic curves and PostScript ones use
           cubic curves.

       postscript([file-handle])
           Generate PostScript code to draw the outline of the glyph.  More
           precisely, the output will construct a PostScript path for the
           outline, which can then be filled in or stroked as you like.

           The glyph-to-eps.pl example program shows how to wrap the output in
           enough extra code to generate a complete EPS file.

           If you pass a file-handle to this method then it will write the
           PostScript code to that file, otherwise it will return it as a
           string.

       right_bearing()
           The distance from the right edge of the glyph image to the place
           where the origin of the next character should be (i.e., the end of
           the advance width).  Only applies to horizontal layouts.  Usually
           positive.
&#12;       svg_path()
           Turn the outline of the glyph into a string in a format suitable for
           including in an SVG graphics file, as the &quot;d&quot; attribute of a &quot;path&quot;
           element.  Note that because SVG&apos;s coordinate system has its origin in
           the top left corner the outline will be upside down.  An SVG
           transformation can be used to flip it.

           The glyph-to-svg.pl example program shows how to wrap the output in
           enough XML to generate a complete SVG file, and one way of
           transforming the outline to be the right way up.

           If you pass a file-handle to this method then it will write the path
           string to that file, otherwise it will return it as a string.

       vertical_advance()
           The distance from the origin of the current glyph to the place where
           the next glyph&apos;s origin should be, moving down the page.  Only
           applies to vertical layouts.  Always positive.

       width()
           The width of the glyph.  This is the distance from the left side to
           the right side, not the amount you should move along before placing
           the next glyph when typesetting.  For that, see the
           &quot;horizontal_advance()&quot; method.

SEE ALSO
       Font::FreeType, Font::FreeType::Face

AUTHOR
       Geoff Richards &lt;qef@laxan.com&gt;

COPYRIGHT
       Copyright 2004, Geoff Richards.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.14.2                       2004-09-11         Font::FreeType::Glyph(3pm)

</pre></body></html>
