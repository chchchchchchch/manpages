<html>
<head><meta charset=utf-8/>
<title>Glib::BookmarkFile -  Parser for bookmark files</title></head>
<body><pre>

Glib::BookmarkFile(3pm)User Contributed Perl DocumentatioGlib::BookmarkFile(3pm)



NAME
       Glib::BookmarkFile -  Parser for bookmark files

SYNOPSIS
         use Glib;

         $date .= $_ while (&lt;DATA&gt;);

         $b = Glib::BookmarkFile-&gt;new;
         $b-&gt;load_from_data($data);
         $uri = &apos;file:///some/path/to/a/file.txt&apos;;
         if ($b-&gt;has_item($uri)) {
               $title = $b-&gt;get_title($uri);
               $desc  = $b-&gt;get_description($uri);

               print &quot;Bookmark for `$uri&apos; ($title):\n&quot;;
               print &quot;  $desc\n&quot;;
         }
         0;

         __DATA__
         &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
         &lt;xbel version=&quot;1.0&quot;
               xmlns:bookmark=&quot;http://www.freedesktop.org/standards/desktop-bookmarks&quot;
               xmlns:mime=&quot;http://www.freedesktop.org/standards/shared-mime-info&quot;&gt;
           &lt;bookmark href=&quot;file:///tmp/test-file.txt&quot; added=&quot;2006-03-22T18:54:00Z&quot; modified=&quot;2006-03-22T18:54:00Z&quot; visited=&quot;2006-03-22T18:54:00Z&quot;&gt;
             &lt;title&gt;Test File&lt;/title&gt;
             &lt;desc&gt;Some test file&lt;/desc&gt;
             &lt;info&gt;
               &lt;metadata owner=&quot;http://freedesktop.org&quot;&gt;
                 &lt;mime:mime-type type=&quot;text/plain&quot;/&gt;
                 &lt;bookmark:applications&gt;
                   &lt;bookmark:application name=&quot;Gedit&quot; exec=&quot;gedit %u&quot; timestamp=&quot;1143053640&quot; count=&quot;1&quot;/&gt;
                 &lt;/bookmark:applications&gt;
               &lt;/metadata&gt;
             &lt;/info&gt;
           &lt;/bookmark&gt;
         &lt;/xbel&gt;

DESCRIPTION
       Glib::BookmarkFile lets you parse, edit or create files containing lists
       of bookmarks to resources pointed to by URIs, with some meta-data bound
       to them, following the Desktop Bookmark Specification.  The recent files
       support inside GTK+ uses this type of files to store the list of recently
       used files.

       The syntax of bookmark files is described in detail in the Desktop
       Bookmarks Specification, here is a quick summary: bookmark files use a
       subclass of the XML Bookmark Exchange Language (XBEL) document format,
       defining meta-data such as the MIME type of the resource pointed by a
       bookmark, the list of applications that have registered the same URI and
       the visibility of the bookmark.

METHODS
   bookmarkfile = Glib::BookmarkFile-&gt;new
   $bookmark_file-&gt;add_application ($uri, $name, $exec)
       &#183;   $uri (string)

       &#183;   $name (string or undef)

       &#183;   $exec (string or undef)
&#12;       Adds the application with $name and $exec to the list of applications
       that have registered a bookmark for $uri into $bookmark_file.

       Every bookmark inside a &quot;Glib::BookmarkFile&quot; must have at least an
       application registered.  Each application must provide a name, a command
       line useful for launching the bookmark, the number of times the bookmark
       has been registered by the application and the last time the application
       registered this bookmark.

       If $name is undef, the name of the application will be the same returned
       by Glib::get_application_name(); if $exec is undef, the command line will
       be a composition of the program name as returned by Glib::get_prgname()
       and the &quot;%u&quot; modifier, which will be expanded to the bookmark&apos;s URI.

       This function will automatically take care of updating the registrations
       count and timestamping in case an application with the same $name had
       already registered a bookmark for $uri inside the bookmark file.  If no
       bookmark for $uri is found one is created.

   $bookmark_file-&gt;add_group ($uri, $group)
       &#183;   $uri (string)

       &#183;   $group (string)

       Adds $group to the list of groups to which the bookmark for $uri belongs
       to.  If no bookmark for $uri is found one is created.

   unix timestamp = $bookmark_file-&gt;get_added ($uri)
       &#183;   $uri (string)

   $bookmark_file-&gt;set_added ($uri, $value)
       &#183;   $uri (string)

       &#183;   $value (unix timestamp)

       Sets the time the bookmark for $uri was added.  If no bookmark for $uri
       is found one is created.

   ($exec, $count, $stamp) = $bookmark_file-&gt;get_app_info ($uri, $name)
       &#183;   $uri (string)

       &#183;   $name (string)

       Gets the registration information of $name for the bookmark for $uri.
       See Glib::BookmarkFile::set_app_info() for more information about the
       returned data.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_app_info ($uri, $name, $exec, $count, $stamp)
       &#183;   $uri (string)

       &#183;   $name (string)

       &#183;   $exec (string)

       &#183;   $count (integer)

       &#183;   $stamp (unix timestamp)

       Sets the meta-data of application $name inside the list of applications
       that have registered a bookmark for $uri inside $bookmark_file.

       You should rarely use this method; use
       Glib::BookmarkFile::add_application() and
       Glib::BookmarkFile::remove_application() instead.

       $name can be any UTF-8 encoded string used to identify an application.
       $exec can have one of these two modifiers: &quot;%f&quot;, which will be expanded
       as the local file name retrieved from the bookmark&apos;s URI; &quot;%u&quot;, which
       will be expanded as the bookmark&apos;s URI. The expansion is done
       automatically when retrieving the stored command line using the
       Glib::BookmarkFile::get_app_info() method.  $count is the number of times
       the application has registered the bookmark; if it is &lt; 0, the current
       registration count will be increased by one, if it is 0, the application
       with $name will be removed from the list of registered applications.
       $stamp is the Unix time of the last registration, as returned by time();
       if it is -1, the current time will be used.

       If you try to remove an application by setting its registration count to
       zero, and no bookmark for $uri is found, %FALSE is returned and an
       exception is fired.

       May croak with a Glib::Error in $@ on failure.

   list = $bookmark_file-&gt;get_applications ($uri)
       &#183;   $uri (string)

       Retrieves the names of the applications that have registered the bookmark
       for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;get_description ($uri)
       &#183;   $uri (string)

       Gets the description of the bookmark for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_description ($uri, $description)
       &#183;   $uri (string)

       &#183;   $description (string)

       Sets the description of the bookmark for $uri.  If no bookmark for $uri
       is found one is created.

   list = $bookmark_file-&gt;get_groups ($uri)
       &#183;   $uri (string)

       Retrieves the list of group names of the bookmark for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_groups ($uri, ...)
       &#183;   $uri (string)

       &#183;   ... (list) one or more group names

       Sets a list of group names for the item with URI $uri.  Each previously
       set group name list is removed.  If no bookmark for $uri is found one is
       created.

   boolean = $bookmark_file-&gt;has_application ($uri, $name)
       &#183;   $uri (string)

       &#183;   $name (string)

       Checks whether the bookmark for $uri inside $bookmark_file has been
       registered by application $name.
&#12;       May croak with a Glib::Error in $@ on failure.

   boolean = $bookmark_file-&gt;has_group ($uri, $group)
       &#183;   $uri (string)

       &#183;   $group (string)

       Checks whether $group appears in the list of groups to which the bookmark
       for $uri belongs to.

       May croak with a Glib::Error in $@ on failure.

   boolean = $bookmark_file-&gt;has_item ($uri)
       &#183;   $uri (string)

       Looks whether the bookmark file has a bookmark for $uri.

   ($href, $mime_type) = $bookmark_file-&gt;get_icon ($uri)
       &#183;   $uri (string)

       Gets the icon of the bookmark for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_icon ($uri, $href, $mime_type)
       &#183;   $uri (string)

       &#183;   $href (string or undef)

       &#183;   $mime_type (string or undef)

       Sets the icon for the bookmark for $uri.  If $href is undef, unsets the
       currently set icon.

   boolean = $bookmark_file-&gt;get_is_private ($uri)
       &#183;   $uri (string)

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_is_private ($uri, $is_private)
       &#183;   $uri (string)

       &#183;   $is_private (boolean)

   $bookmark_file-&gt;load_from_data ($buf)
       &#183;   $buf (scalar)

       Parses a string containing a bookmark file structure.

       May croak with a Glib::Error in $@ on failure.

   ($full_path) = $bookmark_file-&gt;load_from_data_dirs ($file)
       &#183;   $file (localized file name)

       Parses a bookmark file, searching for it inside the data directories.  If
       a file is found, it returns the full path.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;load_from_file ($file)
       &#183;   $file (localized file name)

       Parses a bookmark file.

       May croak with a Glib::Error in $@ on failure.
&#12;   string = $bookmark_file-&gt;get_mime_type ($uri)
       &#183;   $uri (string)

       Gets the MIME type of the bookmark for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_mime_type ($uri, $mime_type)
       &#183;   $uri (string)

       &#183;   $mime_type (string)

       Sets the MIME type of the bookmark for $uri.  If no bookmark for $uri is
       found one is created.

   unix timestamp = $bookmark_file-&gt;get_modified ($uri)
       &#183;   $uri (string)

   $bookmark_file-&gt;set_modified ($uri, $value)
       &#183;   $uri (string)

       &#183;   $value (unix timestamp)

       Sets the time the bookmark for $uri was last modified.  If no bookmark
       for $uri is found one is created.

   $bookmark_file-&gt;move_item ($old_uri, $new_uri)
       &#183;   $old_uri (string)

       &#183;   $new_uri (string or undef)

       Changes the URI of a bookmark item from $old_uri to $new_uri.  Any
       existing bookmark for $new_uri will be overwritten.  If $new_uri is
       undef, then the bookmark is removed.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;remove_application ($uri, $name)
       &#183;   $uri (string)

       &#183;   $name (string)

       Removes application registered with $name from the list of applications
       that have registered a bookmark for $uri inside $bookmark_file.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;remove_group ($uri, $group)
       &#183;   $uri (string)

       &#183;   $group (string)

       Removes $group from the list of groups to which the bookmark for $uri
       belongs to.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;remove_item ($uri)
       &#183;   $uri (string)

       Removes the bookmark for $uri from the bookmark file.

       May croak with a Glib::Error in $@ on failure.

   integer = $bookmark_file-&gt;get_size
       Gets the number of bookmarks inside the bookmark file.
&#12;   $bookmark_file-&gt;get_title ($uri, $title)
       &#183;   $uri (string)

       Gets the title of the bookmark for $uri.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;set_title ($uri, $title)
       &#183;   $uri (string)

       &#183;   $title (string)

       Sets the title of the bookmark for $uri.  If no bookmark for $uri is
       found one is created.

   string = $bookmark_file-&gt;to_data
       Returns the bookmark file as a string.

       May croak with a Glib::Error in $@ on failure.

   $bookmark_file-&gt;to_file ($file)
       &#183;   $file (localized file name)

       Saves the contents of a bookmark file into a file.  The write operation
       is guaranteed to be atomical by writing the contents of the bookmark file
       to a temporary file and then moving the file to the target file.

       May croak with a Glib::Error in $@ on failure.

   list = $bookmark_file-&gt;get_uris
       Returns the URI of all the bookmarks in the bookmark file.

   unix timestamp = $bookmark_file-&gt;get_visited ($uri)
       &#183;   $uri (string)

   $bookmark_file-&gt;set_visited ($uri, $value)
       &#183;   $uri (string)

       &#183;   $value (unix timestamp)

       Sets the time the bookmark for $uri was last visited.  If no bookmark for
       $uri is found one is created.

SEE ALSO
       Glib

COPYRIGHT
       Copyright (C) 2003-2011 by the gtk2-perl team.

       This software is licensed under the LGPL.  See Glib for a full notice.



perl v5.14.2                       2012-05-24            Glib::BookmarkFile(3pm)

</pre></body></html>
