<html>
<head><meta charset=utf-8/>
<title>Glib::Error -  Exception Objects based on GError</title></head>
<body><pre>

Glib::Error(3pm)       User Contributed Perl Documentation      Glib::Error(3pm)



NAME
       Glib::Error -  Exception Objects based on GError

SYNOPSIS
         eval {
            my $pixbuf = Gtk2::Gdk::Pixbuf-&gt;new_from_file ($filename);
            $image-&gt;set_from_pixbuf ($pixbuf);
         };
         if ($@) {
            print &quot;$@\n&quot;;
            if (Glib::Error::matches ($@, &apos;Gtk2::Gdk::Pixbuf::Error&apos;,
                                          &apos;unknown-format&apos;)) {
               change_format_and_try_again ();
            } elsif (Glib::Error::matches ($@, &apos;Glib::File::Error&apos;, &apos;noent&apos;)) {
               change_source_dir_and_try_again ();
            } else {
               # don&apos;t know how to handle this
               die $@;
            }
         }

DESCRIPTION
       Gtk2-Perl translates GLib&apos;s GError runtime errors into Perl exceptions,
       by creating exception objects based on Glib::Error.  Glib::Error
       overloads the stringification operator, so a Glib::Error object will act
       like a string if used with print() or warn(), so most code using $@ will
       not even know the difference.

       The point of having exception objects, however, is that the error
       messages in GErrors are often localized with NLS translation.  Thus, it&apos;s
       not good for your code to attempt to handle errors by string matching on
       the the error message.  Glib::Error provides a way to get to the
       deterministic error code.

       You will typically deal with objects that inherit from Glib::Error, such
       as Glib::Convert::Error, Glib::File::Error, Gtk2::Gdk::Pixbuf::Error,
       etc; these classes are provided by the libraries that define the error
       domains.  However, it is possible to get a base Glib::Error when the
       bindings encounter an unknown or unbound error domain.  The interface
       used here degrades nicely in such a situation, but in general you should
       submit a bug report to the binding maintainer if you get such an
       exception.

METHODS
   scalar = Glib::Error::new ($class, $code, $message)
   scalar = $class-&gt;new ($code, $message)
       &#183;   $code (Glib::Enum) an enumeration value, depends on $class

       &#183;   $message (string)

       Create a new exception object of type $class, where $class is associated
       with a GError domain.  $code should be a value from the enumeration type
       associated with this error domain.  $message can be anything you like,
       but should explain what happened from the point of view of a user.

   integer = $error-&gt;code
       This is the numeric error code.  Normally, you&apos;ll want to use &quot;value&quot;
       instead, for readability.

   string = $error-&gt;domain
       The error domain.  You normally do not need this, as the object will be
       blessed into a corresponding class.

   string = $error-&gt;location
       The source line and file closest to the emission of the exception, in the
       same format that you&apos;d get from croak() or die().

       If there&apos;s non-ascii characters in the filename Perl leaves them as raw
       bytes, so you may have to put the string through
       Glib::filename_display_name for a wide-char form.

   boolean = $error-&gt;matches ($domain, $code)
       &#183;   $domain (string)

       &#183;   $code (scalar)

       Returns true if the exception in $error matches the given $domain and
       $code.  $domain may be a class name or domain quark (that is, the real
       string used in C).  $code may be an integer value or an enum nickname;
       the enum type depends on the value of $domain.

   string = $error-&gt;message
       The error message.  This may be localized, as it is intended to be shown
       to a user.

   Glib::Error::register ($package, $enum_package)
       &#183;   $package (string) class name to register as a Glib::Error.

       &#183;   $enum_package (string) class name of the enum type to use for this
           domain&apos;s error codes.

       Register a new error domain.  Glib::Error will be added @package::ISA for
       you.  enum_package must be a valid Glib::Enum type, either from a C
       library or registered with &quot;Glib::Type::register_enum&quot;.  After
       registering an error domain, you can create or throw exceptions of this
       type.

   scalar = Glib::Error::throw ($class, $code, $message)
   scalar = $class-&gt;throw ($code, $message)
       &#183;   $code (Glib::Enum) an enumeration value, depends on $class

       &#183;   $message (string)

       Throw an exception with a Glib::Error exception object.  Equivalent to
       &quot;croak (Glib::Error::new ($class, $code, $message));&quot;.

   string = $error-&gt;value
       The enumeration value nickname of the integer value in &quot;$error-&gt;code&quot;,
       according to this error domain.  This will not be available if the error
       object is a base Glib::Error, because the bindings will have no idea how
       to get to the correct nickname.

SEE ALSO
       Glib

COPYRIGHT
       Copyright (C) 2003-2011 by the gtk2-perl team.

       This software is licensed under the LGPL.  See Glib for a full notice.



perl v5.14.2                       2012-05-24                   Glib::Error(3pm)

</pre></body></html>
