<html>
<head><meta charset=utf-8/>
<title>Glib::MakeHelper - Makefile.PL utilities for Glib-based extensions</title></head>
<body><pre>

Glib::MakeHelper(3pm)  User Contributed Perl Documentation Glib::MakeHelper(3pm)



NAME
       Glib::MakeHelper - Makefile.PL utilities for Glib-based extensions

SYNOPSIS
        eval &quot;use Glib::MakeHelper; 1&quot;
            or complain_that_glib_is_too_old_and_die();

        %xspod_files = Glib::MakeHelper-&gt;do_pod_files (@xs_files);

        package MY;
        sub postamble {
            return Glib::MakeHelper-&gt;postamble_clean ()
                 . Glib::MakeHelper-&gt;postamble_docs (@main::xs_files)
                 . Glib::MakeHelper-&gt;postamble_rpms (
                        MYLIB     =&gt; $build_reqs{MyLib},
                   );
        }

DESCRIPTION
       The Makefile.PL for your typical Glib-based module is huge and hairy,
       thanks to all the crazy hoops you have to jump through to get things
       right.  This module wraps up some of the more intense and error-prone
       bits to reduce the amount of copied code and potential for errors.

METHODS
       HASH = Glib::MakeHelper-&gt;do_pod_files (@xs_files)
           Scan the @xs_files and return a hash describing the pod files that
           will be created.  This is in the format wanted by WriteMakefile(). If
           @ARGV contains the string &quot;disable-apidoc&quot; an empty list will be
           returned and thus no apidoc pod will be generated speeding up the
           build process.

       LIST = Glib::MakeHelper-&gt;select_files_by_version ($stem, $major, $minor)
           Returns a list of all files that match &quot;$stem-\d+\.\d+&quot; and for which
           the first number is bigger than $major and the second number is
           bigger than $minor.  If $minor is odd, it will be incremented by one
           so that the version number of an upcoming stable release can be used
           during development as well.

       LIST = Glib::MakeHelper-&gt;read_source_list_file ($filename)
           Reads $filename, removes all comments (starting with &quot;#&quot;) and leading
           and trailing whitespace, and returns a list of all lines that
           survived the treatment.

       string = Glib::MakeHelper-&gt;get_configure_requires_yaml
       (%module_to_version)
           Generates YAML code that lists every module found in
           %module_to_version under the &quot;configure_requires&quot; key.  This can be
           used with ExtUtils::MakeMaker&apos;s &quot;EXTRA_META&quot; parameter to specify
           which modules are needed at Makefile.PL time.

           This function is deprecated since ExtUtils::MakeMaker 6.46 removed
           support for &quot;EXTRA_META&quot; in favor of the new keys &quot;META_MERGE&quot; and
           &quot;META_ADD&quot;.

       string = Glib::MakeHelper-&gt;postamble_clean (@files)
           Create and return the text of a realclean rule that cleans up after
           much of the autogeneration performed by Glib-based modules.
           Everything in @files will be deleted, too (it may be empty).

           The reasoning behind using this instead of just having you use the
           &apos;clean&apos; or &apos;realclean&apos; keys is that this avoids you having to
           remember to put Glib&apos;s stuff in your Makefile.PL&apos;s WriteMakefile
           arguments.

       string = Glib::MakeHelper-&gt;postamble_docs (@xs_files)
           NOTE: this is The Old Way.  see postamble_docs_full for The New Way.

           Create and return the text of Makefile rules to build documentation
           from the XS files with Glib::ParseXSDoc and Glib::GenPod.

           Use this in your MY::postamble to enable autogeneration of POD.

           This updates dependencies with the list of pod names generated by an
           earlier run of &quot;do_pod_files&quot;.

           There is a special Makefile variable POD_DEPENDS that should be set
           to the list of files that need to be created before the doc.pl step
           is run, include files.

           There is also a variable BLIB_DONE which should be used as a
           dependency anywhere a rule needs to be sure that a loadable and
           working module resides in the blib directory before running.

       string = Glib::MakeHelper-&gt;postamble_docs_full (...)
           Create and return the text of Makefile rules to build documentation
           from the XS files with Glib::ParseXSDoc and Glib::GenPod.

           Use this in your MY::postamble to enable autogeneration of POD.

           This updates dependencies with the list of pod names generated by an
           earlier run of &quot;do_pod_files&quot;.

           There is a special Makefile variable POD_DEPENDS that should be set
           to the list of files that need to be created before the doc.pl step
           is run, include files.

           There is also a variable BLIB_DONE which should be used as a
           dependency anywhere a rule needs to be sure that a loadable and
           working module resides in the blib directory before running.

           The parameters are a list of key=&gt;value pairs.  You must specify at
           minimum either DEPENDS or XS_FILES.

           DEPENDS =&gt; ExtUtils::Depends object
               Most gtk2-perl modules use ExtUtils::Depends to find headers,
               typemaps, and other data from parent modules and to install this
               data for child modules.  We can find from this object the list of
               XS files to scan for documentation, doctype mappings for parent
               modules, and other goodies.

           XS_FILES =&gt; \@xs_file_names
               A list of xs files to scan for documentation.  Ignored if DEPENDS
               is used.

           DOCTYPES =&gt; \@doctypes_file_names
               List of filenames to pass to &quot;Glib::GenPod::add_types&quot;.  May be
               omitted.

           COPYRIGHT =&gt; string
               POD text to be inserted in the &apos;COPYRIGHT&apos; section of each
               generated page.  May be omitted.

           COPYRIGHT_FROM =&gt; file name
               The name of a file containing the POD to be inserted in the
               &apos;COPYRIGHT&apos; section of each generated page.  May be omitted.

           NAME =&gt; extension name
               The name of the extension, used to set the main mod for
               Glib::GenPod (used in the generated see-also listings).  May be
               omitted in favor of the name held inside the ExtUtils::Depends
               object.  If DEPENDS is also specified, NAME wins.

       string = Glib::MakeHelper-&gt;postamble_rpms (HASH)
           Create and return the text of Makefile rules to manage building RPMs.
           You&apos;d put this in your Makefile.PL&apos;s MY::postamble.

           HASH is a set of search and replace keys for the spec file.  All
           occurences of @key@ in the spec file template
           perl-$(DISTNAME).spec.in will be replaced with value.  &apos;VERSION&apos; and
           &apos;SOURCE&apos; are supplied for you.  For example:

            Glib::MakeHelper-&gt;postamble_rpms (
                   MYLIB     =&gt; 2.0.0, # we can work with anything from this up
                   MYLIB_RUN =&gt; 2.3.1, # we are actually compiled against this one
                   PERL_GLIB =&gt; 1.01,  # you must have this version of Glib
            );

           will replace @MYLIB@, @MYLIB_RUN@, and @PERL_GLIB@ in spec file.  See
           the build setups for Glib and Gtk2 for examples.

           Note: This function just returns an empty string on Win32.

       string = Glib::MakeHelper-&gt;postamble_precompiled_headers (@headers)
           Create and return the text of Makefile rules for a
           &apos;precompiled-headers&apos; target that precompiles @headers.  If you call
           this before you call &quot;postamble_clean&quot;, all temporary files will be
           removed by the &apos;realclean&apos; target.

NOTICE
       The MakeMaker distributed with perl 5.8.x generates makefiles with a bug
       that causes object files to be created in the wrong directory.  There is
       an override inserted by this module under the name MY::const_cccmd to fix
       this issue.

AUTHOR
       Ross McFarland &lt;rwmcfa1 at neces dot com&gt;

       hacked up and documented by muppet.

COPYRIGHT AND LICENSE
       Copyright 2003-2004, 2012 by the gtk2-perl team

       This library is free software; you can redistribute it and/or modify it
       under the terms of the Lesser General Public License (LGPL).  For more
       information, see http://www.fsf.org/licenses/lgpl.txt



perl v5.14.2                       2012-05-24              Glib::MakeHelper(3pm)

</pre></body></html>
