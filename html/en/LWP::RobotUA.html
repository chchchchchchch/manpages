<html>
<head><meta charset=utf-8/>
<title>LWP::RobotUA - a class for well-behaved Web robots</title></head>
<body><pre>

LWP::RobotUA(3pm)      User Contributed Perl Documentation     LWP::RobotUA(3pm)



NAME
       LWP::RobotUA - a class for well-behaved Web robots

SYNOPSIS
         use LWP::RobotUA;
         my $ua = LWP::RobotUA-&gt;new(&apos;my-robot/0.1&apos;, &apos;me@foo.com&apos;);
         $ua-&gt;delay(10);  # be very nice -- max one hit every ten minutes!
         ...

         # Then just use it just like a normal LWP::UserAgent:
         my $response = $ua-&gt;get(&apos;http://whatever.int/...&apos;);
         ...

DESCRIPTION
       This class implements a user agent that is suitable for robot
       applications.  Robots should be nice to the servers they visit.  They
       should consult the /robots.txt file to ensure that they are welcomed and
       they should not make requests too frequently.

       But before you consider writing a robot, take a look at
       &lt;URL:http://www.robotstxt.org/&gt;.

       When you use a LWP::RobotUA object as your user agent, then you do not
       really have to think about these things yourself; &quot;robots.txt&quot; files are
       automatically consulted and obeyed, the server isn&apos;t queried too rapidly,
       and so on.  Just send requests as you do when you are using a normal
       LWP::UserAgent object (using &quot;$ua-&gt;get(...)&quot;, &quot;$ua-&gt;head(...)&quot;,
       &quot;$ua-&gt;request(...)&quot;, etc.), and this special agent will make sure you are
       nice.

METHODS
       The LWP::RobotUA is a sub-class of LWP::UserAgent and implements the same
       methods. In addition the following methods are provided:

       $ua = LWP::RobotUA-&gt;new( %options )
       $ua = LWP::RobotUA-&gt;new( $agent, $from )
       $ua = LWP::RobotUA-&gt;new( $agent, $from, $rules )
           The LWP::UserAgent options &quot;agent&quot; and &quot;from&quot; are mandatory.  The
           options &quot;delay&quot;, &quot;use_sleep&quot; and &quot;rules&quot; initialize attributes
           private to the RobotUA.  If &quot;rules&quot; are not provided, then
           &quot;WWW::RobotRules&quot; is instantiated providing an internal database of
           robots.txt.

           It is also possible to just pass the value of &quot;agent&quot;, &quot;from&quot; and
           optionally &quot;rules&quot; as plain positional arguments.

       $ua-&gt;delay
       $ua-&gt;delay( $minutes )
           Get/set the minimum delay between requests to the same server, in
           minutes.  The default is 1 minute.  Note that this number doesn&apos;t
           have to be an integer; for example, this sets the delay to 10
           seconds:

               $ua-&gt;delay(10/60);

       $ua-&gt;use_sleep
       $ua-&gt;use_sleep( $boolean )
           Get/set a value indicating whether the UA should sleep() if requests
           arrive too fast, defined as $ua-&gt;delay minutes not passed since last
           request to the given server.  The default is TRUE.  If this value is
           FALSE then an internal SERVICE_UNAVAILABLE response will be
           generated.  It will have an Retry-After header that indicates when it
           is OK to send another request to this server.

       $ua-&gt;rules
       $ua-&gt;rules( $rules )
           Set/get which WWW::RobotRules object to use.

       $ua-&gt;no_visits( $netloc )
           Returns the number of documents fetched from this server host. Yeah I
           know, this method should probably have been named num_visits() or
           something like that. :-(

       $ua-&gt;host_wait( $netloc )
           Returns the number of seconds (from now) you must wait before you can
           make a new request to this host.

       $ua-&gt;as_string
           Returns a string that describes the state of the UA.  Mainly useful
           for debugging.

SEE ALSO
       LWP::UserAgent, WWW::RobotRules

COPYRIGHT
       Copyright 1996-2004 Gisle Aas.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.14.2                       2012-02-11                  LWP::RobotUA(3pm)

</pre></body></html>
