<html>
<head><meta charset=utf-8/>
<title>Log::Log4perl::Appender::File - Log to file</title></head>
<body><pre>

Appender::File(3pm)    User Contributed Perl Documentation   Appender::File(3pm)



NAME
       Log::Log4perl::Appender::File - Log to file

SYNOPSIS
           use Log::Log4perl::Appender::File;

           my $app = Log::Log4perl::Appender::File-&gt;new(
             filename  =&gt; &apos;file.log&apos;,
             mode      =&gt; &apos;append&apos;,
             autoflush =&gt; 1,
             umask     =&gt; 0222,
           );

           $file-&gt;log(message =&gt; &quot;Log me\n&quot;);

DESCRIPTION
       This is a simple appender for writing to a file.

       The &quot;log()&quot; method takes a single scalar. If a newline character should
       terminate the message, it has to be added explicitely.

       Upon destruction of the object, the filehandle to access the file is
       flushed and closed.

       If you want to switch over to a different logfile, use the
       &quot;file_switch($newfile)&quot; method which will first close the old file handle
       and then open a one to the new file specified.

   OPTIONS
       filename
           Name of the log file.

       mode
           Messages will be append to the file if $mode is set to the string
           &quot;append&quot;. Will clobber the file if set to &quot;clobber&quot;. If it is &quot;pipe&quot;,
           the file will be understood as executable to pipe output to. Default
           mode is &quot;append&quot;.

       autoflush
           &quot;autoflush&quot;, if set to a true value, triggers flushing the data out
           to the file on every call to &quot;log()&quot;. &quot;autoflush&quot; is on by default.

       syswrite
           &quot;syswrite&quot;, if set to a true value, makes sure that the appender uses
           syswrite() instead of print() to log the message. &quot;syswrite()&quot;
           usually maps to the operating system&apos;s &quot;write()&quot; function and makes
           sure that no other process writes to the same log file while
           &quot;write()&quot; is busy.  Might safe you from having to use other
           syncronisation measures like semaphores (see: Synchronized appender).

       umask
           Specifies the &quot;umask&quot; to use when creating the file, determining the
           file&apos;s permission settings.  If set to 0222 (default), new files will
           be created with &quot;rw-r--r--&quot; permissions.  If set to 0000, new files
           will be created with &quot;rw-rw-rw-&quot; permissions.

       owner
           If set, specifies that the owner of the newly created log file should
           be different from the effective user id of the running process.  Only
           makes sense if the process is running as root.  Both numerical user
           ids and user names are acceptable.
&#12;       group
           If set, specifies that the group of the newly created log file should
           be different from the effective group id of the running process.
           Only makes sense if the process is running as root.  Both numerical
           group ids and group names are acceptable.

       utf8
           If you&apos;re printing out Unicode strings, the output filehandle needs
           to be set into &quot;:utf8&quot; mode:

               my $app = Log::Log4perl::Appender::File-&gt;new(
                 filename  =&gt; &apos;file.log&apos;,
                 mode      =&gt; &apos;append&apos;,
                 utf8      =&gt; 1,
               );

       binmode
           To manipulate the output filehandle via &quot;binmode()&quot;, use the binmode
           parameter:

               my $app = Log::Log4perl::Appender::File-&gt;new(
                 filename  =&gt; &apos;file.log&apos;,
                 mode      =&gt; &apos;append&apos;,
                 binmode   =&gt; &quot;:utf8&quot;,
               );

           A setting of &quot;:utf8&quot; for &quot;binmode&quot; is equivalent to specifying the
           &quot;utf8&quot; option (see above).

       recreate
           Normally, if a file appender logs to a file and the file gets moved
           to a different location (e.g. via &quot;mv&quot;), the appender&apos;s open file
           handle will automatically follow the file to the new location.

           This may be undesirable. When using an external logfile rotator, for
           example, the appender should create a new file under the old name and
           start logging into it. If the &quot;recreate&quot; option is set to a true
           value, &quot;Log::Log4perl::Appender::File&quot; will do exactly that. It
           defaults to false. Check the &quot;recreate_check_interval&quot; option for
           performance optimizations with this feature.

       recreate_check_interval
           In &quot;recreate&quot; mode, the appender has to continuously check if the
           file it is logging to is still in the same location. This check is
           fairly expensive, since it has to call &quot;stat&quot; on the file name and
           figure out if its inode has changed. Doing this with every call to
           &quot;log&quot; can be prohibitively expensive. Setting it to a positive
           integer value N will only check the file every N seconds. It defaults
           to 30.

           This obviously means that the appender will continue writing to a
           moved file until the next check occurs, in the worst case this will
           happen &quot;recreate_check_interval&quot; seconds after the file has been
           moved or deleted. If this is undesirable, setting
           &quot;recreate_check_interval&quot; to 0 will have the appender check the file
           with every call to &quot;log()&quot;.

       recreate_check_signal
           In &quot;recreate&quot; mode, if this option is set to a signal name (e.g.
           &quot;USR1&quot;), the appender will recreate a missing logfile when it
           receives the signal. It uses less resources than constant polling.
           The usual limitation with perl&apos;s signal handling apply.  Check the
           FAQ for using this option with the log rotating utility &quot;newsyslog&quot;.

       recreate_pid_write
           The popular log rotating utility &quot;newsyslog&quot; expects a pid file in
           order to send the application a signal when its logs have been
           rotated. This option expects a path to a file where the pid of the
           currently running application gets written to.  Check the FAQ for
           using this option with the log rotating utility &quot;newsyslog&quot;.

       create_at_logtime
           The file appender typically creates its logfile in its constructor,
           i.e.  at Log4perl &quot;init()&quot; time. This is desirable for most use
           cases, because it makes sure that file permission problems get
           detected right away, and not after days/weeks/months of operation
           when the appender suddenly needs to log something and fails because
           of a problem that was obvious at startup.

           However, there are rare use cases where the file shouldn&apos;t be created
           at Log4perl &quot;init()&quot; time, e.g. if the appender can&apos;t be used by the
           current user although it is defined in the configuration file. If you
           set &quot;create_at_logtime&quot; to a true value, the file appender will try
           to create the file at log time. Note that this setting lets
           permission problems sit undetected until log time, which might be
           undesirable.

       header_text
           If you want Log4perl to print a header into every newly opened (or
           re-opened) logfile, set &quot;header_text&quot; to either a string or a
           subroutine returning a string. If the message doesn&apos;t have a newline,
           a newline at the end of the header will be provided.

       Design and implementation of this module has been greatly inspired by
       Dave Rolsky&apos;s &quot;Log::Dispatch&quot; appender framework.

COPYRIGHT AND LICENSE
       Copyright 2002-2009 by Mike Schilli &lt;m@perlmeister.com&gt; and Kevin Goess
       &lt;cpan@goess.org&gt;.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.10.1                       2010-07-21                Appender::File(3pm)

</pre></body></html>
