<html>
<head><meta charset=utf-8/>
<title>Log::Log4perl::NDC - Nested Diagnostic Context</title></head>
<body><pre>

NDC(3pm)               User Contributed Perl Documentation              NDC(3pm)



NAME
       Log::Log4perl::NDC - Nested Diagnostic Context

DESCRIPTION
       Log::Log4perl allows loggers to maintain global thread-specific data,
       called the Nested Diagnostic Context (NDC).

       At some point, the application might decide to push a piece of data onto
       the NDC stack, which other parts of the application might want to reuse.
       For example, at the beginning of a web request in a server, the
       application might decide to push the IP address of the client onto the
       stack to provide it for other loggers down the road without having to
       pass the data from function to function.

       The Log::Log4perl::Layout::PatternLayout class even provides the handy %x
       placeholder which is replaced by the blank-separated list of elements
       currently on the stack.

       This module maintains a simple stack which you can push data on to, query
       what&apos;s on top, pop it off again or delete the entire stack.

       Its purpose is to provide a thread-specific context which all
       Log::Log4perl loggers can refer to without the application having to pass
       around the context data between its functions.

       Since in 5.8.0 perl&apos;s threads don&apos;t share data only upon request, global
       data is by definition thread-specific.

       Log::Log4perl::NDC-&gt;push($text);
           Push an item onto the stack. If the stack grows beyond the defined
           limit ($Log::Log4perl::NDC::MAX_SIZE), just the topmost element will
           be replated.

           This is typically done when a context is entered.

       Log::Log4perl::NDC-&gt;pop();
           Discard the upmost element of the stack. This is typically done when
           a context is left.

       my $text = Log::Log4perl::NDC-&gt;get();
           Retrieve the content of the stack as a string of blank-separated
           values without disrupting the stack structure. Typically done by %x.
           If the stack is empty the value &quot;[undef]&quot; is being returned.

       Log::Log4perl::NDC-&gt;remove();
           Reset the stack, remove all items.

       Please note that all of the methods above are class methods, there&apos;s no
       instances of this class.

COPYRIGHT AND LICENSE
       Copyright 2002-2009 by Mike Schilli &lt;m@perlmeister.com&gt; and Kevin Goess
       &lt;cpan@goess.org&gt;.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.10.1                       2010-07-21                           NDC(3pm)

</pre></body></html>
