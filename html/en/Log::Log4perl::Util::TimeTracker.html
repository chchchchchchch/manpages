<html>
<head><meta charset=utf-8/>
<title>Log::Log4perl::Util::TimeTracker - Track time elapsed</title></head>
<body><pre>

Util::TimeTracker(3pm) User Contributed Perl DocumentationUtil::TimeTracker(3pm)



NAME
       Log::Log4perl::Util::TimeTracker - Track time elapsed

SYNOPSIS
         use Log::Log4perl::Util::TimeTracker;

         my $timer = Log::Log4perl::Util::TimeTracker-&gt;new();

           # equivalent to Time::HiRes::gettimeofday(), regardless
           # if Time::HiRes is present or not.
         my($seconds, $microseconds) = $timer-&gt;gettimeofday();

           # reset internal timer
         $timer-&gt;reset();

           # return milliseconds since last reset
         $msecs = $timer-&gt;milliseconds();

           # return milliseconds since last call
         $msecs = $timer-&gt;delta_milliseconds();

DESCRIPTION
       This utility module helps tracking time elapsed for PatternLayout&apos;s date
       and time placeholders. Its accuracy depends on the availability of the
       Time::HiRes module. If it&apos;s available, its granularity is milliseconds,
       if not, seconds.

       The most common use of this module is calling the gettimeofday() method:

         my($seconds, $microseconds) = $timer-&gt;gettimeofday();

       It returns seconds and microseconds of the current epoch time. If
       Time::HiRes is installed, it will simply defer to its gettimeofday()
       function, if it&apos;s missing, time() will be called instead and
       $microseconds will always be 0.

       To measure time elapsed in milliseconds, use the reset() method to reset
       the timer to the current time, followed by one or more calls to the
       milliseconds() method:

           # reset internal timer
         $timer-&gt;reset();

           # return milliseconds since last reset
         $msecs = $timer-&gt;milliseconds();

       On top of the time span between the last reset and the current time, the
       module keeps track of the time between calls to delta_milliseconds():

         $msecs = $timer-&gt;delta_milliseconds();

       On the first call, this will return the number of milliseconds since the
       last reset(), on subsequent calls, it will return the time elapsed in
       milliseconds since the last call to delta_milliseconds() instead. Note
       that reset() also resets the time of the last call.

       The internal timer of this module gets its time input from the POSIX
       time() function, or, if the Time::HiRes module is available, from its
       gettimeofday() function. To figure out which one it is, use

           if( $timer-&gt;hires_available() ) {
               print &quot;Hooray, we get real milliseconds!\n&quot;;
           } else {
               print &quot;Milliseconds are just bogus\n&quot;;
           }
&#12;       For testing purposes, a different time source can be provided, so test
       suites can simulate time passing by without actually having to wait:

         my $start_time = time();

         my $timer = Log::Log4perl::Util::TimeTracker-&gt;new(
                 time_function =&gt; sub {
                     return $start_time++;
                 },
         );

       Every call to $timer-&gt;epoch() will then return a time value that is one
       second ahead of the the value returned on the previous call. This also
       means that every call to delta_milliseconds() will return a value that
       exceeds the value returned on the previous call by 1000.

COPYRIGHT AND LICENSE
       Copyright 2002-2009 by Mike Schilli &lt;m@perlmeister.com&gt; and Kevin Goess
       &lt;cpan@goess.org&gt;.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.10.1                       2010-07-21             Util::TimeTracker(3pm)

</pre></body></html>
