<html>
<head><meta charset=utf-8/>
<title>MIME::Words - deal with RFC 2047 encoded words</title></head>
<body><pre>

MIME::Words(3pm)       User Contributed Perl Documentation      MIME::Words(3pm)



NAME
       MIME::Words - deal with RFC 2047 encoded words

SYNOPSIS
       Before reading further, you should see MIME::Tools to make sure that you
       understand where this module fits into the grand scheme of things.  Go
       on, do it now.  I&apos;ll wait.

       Ready?  Ok...

           use MIME::Words qw(:all);

           ### Decode the string into another string, forgetting the charsets:
           $decoded = decode_mimewords(
                 &apos;To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld@dkuug.dk&gt;&apos;,
                 );

           ### Split string into array of decoded [DATA,CHARSET] pairs:
           @decoded = decode_mimewords(
                 &apos;To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld@dkuug.dk&gt;&apos;,
                 );

           ### Encode a single unsafe word:
           $encoded = encode_mimeword(&quot;\xABFran\xE7ois\xBB&quot;);

           ### Encode a string, trying to find the unsafe words inside it:
           $encoded = encode_mimewords(&quot;Me and \xABFran\xE7ois\xBB in town&quot;);

DESCRIPTION
       Fellow Americans, you probably won&apos;t know what the hell this module is
       for.  Europeans, Russians, et al, you probably do.  &quot;:-)&quot;.

       For example, here&apos;s a valid MIME header you might get:

             From: =?US-ASCII?Q?Keith_Moore?= &lt;moore@cs.utk.edu&gt;
             To: =?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld@dkuug.dk&gt;
             CC: =?ISO-8859-1?Q?Andr=E9_?= Pirard &lt;PIRARD@vm1.ulg.ac.be&gt;
             Subject: =?ISO-8859-1?B?SWYgeW91IGNhbiByZWFkIHRoaXMgeW8=?=
              =?ISO-8859-2?B?dSB1bmRlcnN0YW5kIHRoZSBleGFtcGxlLg==?=
              =?US-ASCII?Q?.._cool!?=

       The fields basically decode to (sorry, I can only approximate the Latin
       characters with 7 bit sequences /o and &apos;e):

             From: Keith Moore &lt;moore@cs.utk.edu&gt;
             To: Keld J/orn Simonsen &lt;keld@dkuug.dk&gt;
             CC: Andr&apos;e  Pirard &lt;PIRARD@vm1.ulg.ac.be&gt;
             Subject: If you can read this you understand the example... cool!

PUBLIC INTERFACE
       decode_mimewords ENCODED
           Function.  Go through the string looking for RFC 2047-style &quot;Q&quot;
           (quoted-printable, sort of) or &quot;B&quot; (base64) encoding, and decode
           them.

           In an array context, splits the ENCODED string into a list of decoded
           &quot;[DATA, CHARSET]&quot; pairs, and returns that list.  Unencoded data are
           returned in a 1-element array &quot;[DATA]&quot;, giving an effective CHARSET
           of &quot;undef&quot;.

               $enc = &apos;=?ISO-8859-1?Q?Keld_J=F8rn_Simonsen?= &lt;keld@dkuug.dk&gt;&apos;;
               foreach (decode_mimewords($enc)) {
                   print &quot;&quot;, ($_-&gt;[1] || &apos;US-ASCII&apos;), &quot;: &quot;, $_-&gt;[0], &quot;\n&quot;;
               }
&#12;           In a scalar context, joins the &quot;data&quot; elements of the above list
           together, and returns that.  Warning: this is information-lossy, and
           probably not what you want, but if you know that all charsets in the
           ENCODED string are identical, it might be useful to you.  (Before you
           use this, please see &quot;unmime&quot; in MIME::WordDecoder, which is probably
           what you want.)

           In the event of a syntax error, $@ will be set to a description of
           the error, but parsing will continue as best as possible (so as to
           get something back when decoding headers).  $@ will be false if no
           error was detected.

           Any arguments past the ENCODED string are taken to define a hash of
           options:

       encode_mimeword RAW, [ENCODING], [CHARSET]
           Function.  Encode a single RAW &quot;word&quot; that has unsafe characters.
           The &quot;word&quot; will be encoded in its entirety.

               ### Encode &quot;&lt;&lt;Franc,ois&gt;&gt;&quot;:
               $encoded = encode_mimeword(&quot;\xABFran\xE7ois\xBB&quot;);

           You may specify the ENCODING (&quot;Q&quot; or &quot;B&quot;), which defaults to &quot;Q&quot;.
           You may specify the CHARSET, which defaults to &quot;iso-8859-1&quot;.

       encode_mimewords RAW, [OPTS]
           Function.  Given a RAW string, try to find and encode all &quot;unsafe&quot;
           sequences of characters:

               ### Encode a string with some unsafe &quot;words&quot;:
               $encoded = encode_mimewords(&quot;Me and \xABFran\xE7ois\xBB&quot;);

           Returns the encoded string.  Any arguments past the RAW string are
           taken to define a hash of options:

           Charset
               Encode all unsafe stuff with this charset.  Default is
               &apos;ISO-8859-1&apos;, a.k.a. &quot;Latin-1&quot;.

           Encoding
               The encoding to use, &quot;q&quot; or &quot;b&quot;.  The default is &quot;q&quot;.

           Warning: this is a quick-and-dirty solution, intended for character
           sets which overlap ASCII.  It does not comply with the RFC 2047 rules
           regarding the use of encoded words in message headers.  You may want
           to roll your own variant, using &quot;encode_mimeword()&quot;, for your
           application.  Thanks to Jan Kasprzak for reminding me about this
           problem.

SEE ALSO
       MIME::Base64, MIME::QuotedPrint, MIME::Tools

       For other implementations of this or similar functionality (particularly,
       ones with proper UTF8 support), see:

       Encode::MIME::Header, MIME::EncWords, MIME::AltWords

       At some future point, one of these implementations will likely replace
       MIME::Words and MIME::Words will become deprecated.

NOTES
       Exports its principle functions by default, in keeping with MIME::Base64
       and MIME::QuotedPrint.

AUTHOR
       Eryq (eryq@zeegee.com), ZeeGee Software Inc (http://www.zeegee.com).
       David F. Skoll (dfs@roaringpenguin.com) http://www.roaringpenguin.com

       All rights reserved.  This program is free software; you can redistribute
       it and/or modify it under the same terms as Perl itself.

       Thanks also to...

             Kent Boortz        For providing the idea, and the baseline
                                RFC-1522-decoding code!
             KJJ at PrimeNet    For requesting that this be split into
                                its own module.
             Stephane Barizien  For reporting a nasty bug.



perl v5.14.2                       2012-06-08                   MIME::Words(3pm)

</pre></body></html>
