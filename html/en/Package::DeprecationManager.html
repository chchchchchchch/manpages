<html>
<head><meta charset=utf-8/>
<title>Package::DeprecationManager - Manage deprecation warnings for your distribution</title></head>
<body><pre>

Package::DeprecationManUser(Contributed Perl DocPackage::DeprecationManager(3pm)



NAME
       Package::DeprecationManager - Manage deprecation warnings for your
       distribution

VERSION
       version 0.13

SYNOPSIS
         package My::Class;

         use Package::DeprecationManager -deprecations =&gt; {
             &apos;My::Class::foo&apos; =&gt; &apos;0.02&apos;,
             &apos;My::Class::bar&apos; =&gt; &apos;0.05&apos;,
             &apos;feature-X&apos;      =&gt; &apos;0.07&apos;,
         };

         sub foo {
             deprecated( &apos;Do not call foo!&apos; );

             ...
         }

         sub bar {
             deprecated();

             ...
         }

         sub baz {
             my %args = @_;

             if ( $args{foo} ) {
                 deprecated(
                     message =&gt; ...,
                     feature =&gt; &apos;feature-X&apos;,
                 );
             }
         }

         package Other::Class;

         use My::Class -api_version =&gt; &apos;0.04&apos;;

         My::Class-&gt;new()-&gt;foo(); # warns
         My::Class-&gt;new()-&gt;bar(); # does not warn
         My::Class-&gt;new()-&gt;bar(); # does not warn again

DESCRIPTION
       This module allows you to manage a set of deprecations for one or more
       modules.

       When you import &quot;Package::DeprecationManager&quot;, you must provide a set of
       &quot;-deprecations&quot; as a hash ref. The keys are &quot;feature&quot; names, and the
       values are the version when that feature was deprecated.

       In many cases, you can simply use the fully qualified name of a
       subroutine or method as the feature name. This works for cases where the
       whole subroutine is deprecated. However, the feature names can be any
       string. This is useful if you don&apos;t want to deprecate an entire
       subroutine, just a certain usage.

       You can also provide an optional array reference in the &quot;-ignore&quot;
       parameter.

       The values to be ignored can be package names or regular expressions
       (made with &quot;qr//&quot;).  Use this to ignore packages in your distribution
       that can appear on the call stack when a deprecated feature is used.

       As part of the import process, &quot;Package::DeprecationManager&quot; will export
       two subroutines into its caller. It provides an &quot;import()&quot; sub for the
       caller and a &quot;deprecated()&quot; sub.

       The &quot;import()&quot; sub allows callers of your class to specify an
       &quot;-api_version&quot; parameter. If this is supplied, then deprecation warnings
       are only issued for deprecations for api versions earlier than the one
       specified.

       You must call the &quot;deprecated()&quot; sub in each deprecated subroutine. When
       called, it will issue a warning using &quot;Carp::cluck()&quot;.

       The &quot;deprecated()&quot; sub can be called in several ways. If you do not pass
       any arguments, it will generate an appropriate warning message. If you
       pass a single argument, this is used as the warning message.

       Finally, you can call it with named arguments. Currently, the only
       allowed names are &quot;message&quot; and &quot;feature&quot;. The &quot;feature&quot; argument should
       correspond to the feature name passed in the &quot;-deprecations&quot; hash.

       If you don&apos;t explicitly specify a feature, the &quot;deprecated()&quot; sub uses
       &quot;caller()&quot; to identify its caller, using its fully qualified subroutine
       name.

       A given deprecation warning is only issued once for a given package. This
       module tracks this based on both the feature name and the error message
       itself. This means that if you provide several different error messages
       for the same feature, all of those errors will appear.

BUGS
       Please report any bugs or feature requests to
       &quot;bug-package-deprecationmanager@rt.cpan.org&quot;, or through the web
       interface at &lt;http://rt.cpan.org&gt;.  I will be notified, and then you&apos;ll
       automatically be notified of progress on your bug as I make changes.

DONATIONS
       If you&apos;d like to thank me for the work I&apos;ve done on this module, please
       consider making a &quot;donation&quot; to me via PayPal. I spend a lot of free time
       creating free software, and would appreciate any support you&apos;d care to
       offer.

       Please note that I am not suggesting that you must do this in order for
       me to continue working on this particular software. I will continue to do
       so, inasmuch as I have in the past, for as long as it interests me.

       Similarly, a donation made in this way will probably not make me work on
       this software much more, unless I get so many donations that I can
       consider working on free software full time, which seems unlikely at
       best.

       To donate, log into PayPal and send money to autarch@urth.org or use the
       button on this page: http://www.urth.org/~autarch/fs-donation.html
       &lt;http://www.urth.org/~autarch/fs-donation.html&gt;

CREDITS
       The idea for this functionality and some of its implementation was
       originally created as Class::MOP::Deprecated by Goro Fuji.

AUTHOR
       Dave Rolsky &lt;autarch@urth.org&gt;
&#12;COPYRIGHT AND LICENSE
       This software is Copyright (c) 2012 by Dave Rolsky.

       This is free software, licensed under:

         The Artistic License 2.0 (GPL Compatible)



perl v5.14.2                       2012-03-09   Package::DeprecationManager(3pm)

</pre></body></html>
