<html>
<head><meta charset=utf-8/>
<title>SDL_SetPalette - Sets the colors in the palette of an 8-bit surface.</title></head>
<body><pre>

SDL_SetPalette(3)               SDL API Reference              SDL_SetPalette(3)



NAME
       SDL_SetPalette - Sets the colors in the palette of an 8-bit surface.

SYNOPSIS
       #include &quot;SDL.h&quot;

       int  SDL_SetPalette(SDL_Surface  *surface,  int flags, SDL_Color *colors,
       int firstcolor, int ncolors);

DESCRIPTION
       Sets a portion of the palette for the given 8-bit surface.

       Palettized (8-bit) screen surfaces with the SDL_HWPALETTE flag  have  two
       palettes,  a  logical  palette that is used for mapping blits to/from the
       surface and a physical palette (that determines how the hardware will map
       the  colors to the display). SDL_BlitSurface always uses the logical pal&#8208;
       ette when blitting surfaces (if it has to convert between  surface  pixel
       formats).  Because  of this, it is often useful to modify only one or the
       other palette to achieve various special color effects (e.g., screen fad&#8208;
       ing, color flashes, screen dimming).

       This  function  can  modify  either  the  logical  or physical palette by
       specifing SDL_LOGPAL or SDL_PHYSPALthe in the flags parameter.

       When surface is the surface associated with the current display, the dis&#8208;
       play colormap will be updated with the requested colors. If SDL_HWPALETTE
       was set in SDL_SetVideoMode flags, SDL_SetPalette will always  return  1,
       and  the  palette is guaranteed to be set the way you desire, even if the
       window colormap has to be warped or run under emulation.

       The color components of a SDL_Color structure are 8-bits in size,  giving
       you a total of 256^3=16777216 colors.

RETURN VALUE
       If  surface  is  not  a  palettized  surface, this function does nothing,
       returning 0. If all of the colors were set as passed  to  SDL_SetPalette,
       it will return 1. If not all the color entries were set exactly as given,
       it will return 0, and you should look at the surface palette to determine
       the actual color palette.

EXAMPLE
               /* Create a display surface with a grayscale palette */
               SDL_Surface *screen;
               SDL_Color colors[256];
               int i;
               .
               .
               .
               /* Fill colors with color information */
               for(i=0;i&lt;256;i++){
                 colors[i].r=i;
                 colors[i].g=i;
                 colors[i].b=i;
               }

               /* Create display */
               screen=SDL_SetVideoMode(640, 480, 8, SDL_HWPALETTE);
               if(!screen){
                 printf(&quot;Couldn&apos;t set video mode: %s
       &quot;, SDL_GetError());
                 exit(-1);
               }

               /* Set palette */
               SDL_SetPalette(screen, SDL_LOGPAL|SDL_PHYSPAL, colors, 0, 256);
               .
               .
               .
               .

SEE ALSO
       SDL_SetColors, SDL_SetVideoMode, SDL_Surface, SDL_Color



SDL                          Tue 11 Sep 2001, 23:01            SDL_SetPalette(3)

</pre></body></html>
