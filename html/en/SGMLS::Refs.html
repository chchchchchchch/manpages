<html>
<head><meta charset=utf-8/>
<title>SGMLS::Refs - Forward reference handling</title></head>
<body><pre>

Refs(3pm)              User Contributed Perl Documentation             Refs(3pm)



NAME
       SGMLS::Refs - Forward reference handling

SYNOPSIS
         use SGMLS::Refs;

       To create a new reference-manager object using the file &quot;foo.refs&quot;:

         my $refs = new SGMLS::Refs(&quot;foo.refs&quot;);

       To create a new reference-manager object using the file &quot;foo.refs&quot; and
       logging changes to the file &quot;foo.log&quot;:

         my $refs = new SGMLS::Refs(&quot;foo.refs&quot;,&quot;foo.log&quot;);

       To record a reference:

         $refs-&gt;put(&quot;document title&quot;,$title);

       To retrieve a reference:

         $title = $refs-&gt;get(&quot;document title&quot;);

       To return the number of references changed since the last run:

         $num = $refs-&gt;changed;

       To print a LaTeX-like warning if any references have changed:

         $refs-&gt;warn;

DESCRIPTION
       This library can be used together with the SGMLS package to keep track of
       forward references from one run to another, like the LaTeX &quot;.aux&quot; files.
       Each reference manager is an object which reads and then rewrites a file
       of perl source, with the file name provided by the caller.

       Example:

         # Start up the reference manager before the parse.
         sgml(&apos;start&apos;, sub { $refs = new SGMLS::Refs(&quot;foo.refs&quot;); });

         # Warn about any changed references at the end.
         sgml(&apos;end&apos;, sub { $refs-&gt;warn; });

         # Look up the title from the last parse, if available.
         sgml(&apos;&lt;div&gt;&apos;, sub {
           my $element = shift;
           my $id = $element-&gt;attribute(ID)-&gt;value;
           my $title = $refs-&gt;get(&quot;title:$id&quot;) || &quot;[no title available]&quot;;

           $current_div_id = $id;

           output &quot;\\section{$title}\n\n&quot;;
         });

         # Save the title for the next parse.
         sgml(&apos;&lt;head&gt;&apos;, sub { push_output(&apos;string&apos;); });
         sgml(&apos;&lt;/head&gt;&apos;, sub {
           my $title = pop_output();
           my $id = $current_div_id;
&#12;           $refs-&gt;put(&quot;title:$id&quot;,$title);
         });

AUTHOR AND COPYRIGHT
       Copyright 1994 and 1995 by David Megginson, &quot;dmeggins@aix1.uottawa.ca&quot;.
       Distributed under the terms of the Gnu General Public License (version 2,
       1991) -- see the file &quot;COPYING&quot; which is included in the SGMLS.pm distri&#8208;
       bution.

SEE ALSO:
       SGMLS, SGMLS::Output.



perl v5.8.8                        2004-02-22                          Refs(3pm)

</pre></body></html>
