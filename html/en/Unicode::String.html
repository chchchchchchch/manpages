<html>
<head><meta charset=utf-8/>
<title>Unicode::String - String of Unicode characters (UTF-16BE)</title></head>
<body><pre>

String(3pm)            User Contributed Perl Documentation           String(3pm)



NAME
       Unicode::String - String of Unicode characters (UTF-16BE)

SYNOPSIS
        use Unicode::String qw(utf8 latin1 utf16be);

        $u = utf8(&quot;string&quot;);
        $u = latin1(&quot;string&quot;);
        $u = utf16be(&quot;\0s\0t\0r\0i\0n\0g&quot;);

        print $u-&gt;utf32be;   # 4 byte characters
        print $u-&gt;utf16le;   # 2 byte characters + surrogates
        print $u-&gt;utf8;      # 1-4 byte characters

DESCRIPTION
       A &quot;Unicode::String&quot; object represents a sequence of Unicode characters.
       Methods are provided to convert between various external formats
       (encodings) and &quot;Unicode::String&quot; objects, and methods are provided for
       common string manipulations.

       The functions utf32be(), utf32le(), utf16be(), utf16le(), utf8(), utf7(),
       latin1(), uhex(), uchr() can be imported from the &quot;Unicode::String&quot;
       module and will work as constructors initializing strings of the
       corresponding encoding.

       The &quot;Unicode::String&quot; objects overload various operators, which means
       that they in most cases can be treated like plain strings.

       Internally a &quot;Unicode::String&quot; object is represented by a string of 2
       byte numbers in network byte order (big-endian). This representation is
       not visible by the API provided, but it might be useful to know in order
       to predict the efficiency of the provided methods.

   METHODS
   Class methods
       The following class methods are available:

       Unicode::String-&gt;stringify_as
       Unicode::String-&gt;stringify_as( $enc )
           This method is used to specify which encoding will be used when
           &quot;Unicode::String&quot; objects are implicitly converted to and from plain
           strings.

           If an argument is provided it sets the current encoding.  The
           argument should have one of the following: &quot;ucs4&quot;, &quot;utf32&quot;,
           &quot;utf32be&quot;, &quot;utf32le&quot;, &quot;ucs2&quot;, &quot;utf16&quot;, &quot;utf16be&quot;, &quot;utf16le&quot;, &quot;utf8&quot;,
           &quot;utf7&quot;, &quot;latin1&quot; or &quot;hex&quot;.  The default is &quot;utf8&quot;.

           The stringify_as() method returns a reference to the current encoding
           function.

       $us = Unicode::String-&gt;new
       $us = Unicode::String-&gt;new( $initial_value )
           This is the object constructor.  Without argument, it creates an
           empty &quot;Unicode::String&quot; object.  If an $initial_value argument is
           given, it is decoded according to the specified stringify_as()
           encoding, UTF-8 by default.

           In general it is recommended to import and use one of the encoding
           specific constructor functions instead of invoking this method.

   Encoding methods
       These methods get or set the value of the &quot;Unicode::String&quot; object by
       passing strings in the corresponding encoding.  If a new value is passed
       as argument it will set the value of the &quot;Unicode::String&quot;, and the
       previous value is returned.  If no argument is passed then the current
       value is returned.

       To illustrate the encodings we show how the 2 character sample string of
       &quot;Xm&quot; (micro meter) is encoded for each one.

       $us-&gt;utf32be
       $us-&gt;utf32be( $newval )
           The string passed should be in the UTF-32 encoding with bytes in big
           endian order.  The sample &quot;Xm&quot; is &quot;\0\0\0\xB5\0\0\0m&quot; in this
           encoding.

           Alternative names for this method are utf32() and ucs4().

       $us-&gt;utf32le
       $us-&gt;utf32le( $newval )
           The string passed should be in the UTF-32 encoding with bytes in
           little endian order.  The sample &quot;Xm&quot; is is &quot;\xB5\0\0\0m\0\0\0&quot; in
           this encoding.

       $us-&gt;utf16be
       $us-&gt;utf16be( $newval )
           The string passed should be in the UTF-16 encoding with bytes in big
           endian order. The sample &quot;Xm&quot; is &quot;\0\xB5\0m&quot; in this encoding.

           Alternative names for this method are utf16() and ucs2().

           If the string passed to utf16be() starts with the Unicode byte order
           mark in little endian order, the result is as if utf16le() was called
           instead.

       $us-&gt;utf16le
       $us-&gt;utf16le( $newval )
           The string passed should be in the UTF-16 encoding with bytes in
           little endian order.  The sample &quot;Xm&quot; is is &quot;\xB5\0m\0&quot; in this
           encoding.  This is the encoding used by the Microsoft Windows API.

           If the string passed to utf16le() starts with the Unicode byte order
           mark in big endian order, the result is as if utf16le() was called
           instead.

       $us-&gt;utf8
       $us-&gt;utf8( $newval )
           The string passed should be in the UTF-8 encoding. The sample &quot;Xm&quot; is
           &quot;\xC2\xB5m&quot; in this encoding.

       $us-&gt;utf7
       $us-&gt;utf7( $newval )
           The string passed should be in the UTF-7 encoding. The sample &quot;Xm&quot; is
           &quot;+ALU-m&quot; in this encoding.

           The UTF-7 encoding only use plain US-ASCII characters for the
           encoding.  This makes it safe for transport through 8-bit stripping
           protocols.  Characters outside the US-ASCII range are base64-encoded
           and &apos;+&apos; is used as an escape character.  The UTF-7 encoding is
           described in RFC 1642.

           If the (global) variable $Unicode::String::UTF7_OPTIONAL_DIRECT_CHARS
           is TRUE, then a wider range of characters are encoded as themselves.
           It is even TRUE by default.  The characters affected by this are:

              ! &quot; # $ % &amp; * ; &lt; = &gt; @ [ ] ^ _ ` { | }

       $us-&gt;latin1
       $us-&gt;latin1( $newval )
           The string passed should be in the ISO-8859-1 encoding. The sample
           &quot;Xm&quot; is &quot;\xB5m&quot; in this encoding.

           Characters outside the &quot;\x00&quot; .. &quot;\xFF&quot; range are simply removed from
           the return value of the latin1() method.  If you want more control
           over the mapping from Unicode to ISO-8859-1, use the &quot;Unicode::Map8&quot;
           class.  This is also the way to deal with other 8-bit character sets.

       $us-&gt;hex
       $us-&gt;hex( $newval )
           The string passed should be plain ASCII where each Unicode character
           is represented by the &quot;U+XXXX&quot; string and separated by a single space
           character.  The &quot;U+&quot; prefix is optional when setting the value.  The
           sample &quot;Xm&quot; is &quot;U+00b5 U+006d&quot; in this encoding.

   String Operations
       The following methods are available:

       $us-&gt;as_string
           Converts a &quot;Unicode::String&quot; to a plain string according to the
           setting of stringify_as().  The default stringify_as() encoding is
           &quot;utf8&quot;.

       $us-&gt;as_num
           Converts a &quot;Unicode::String&quot; to a number.  Currently only the digits
           in the range 0x30 .. 0x39 are recognized.  The plan is to eventually
           support all Unicode digit characters.

       $us-&gt;as_bool
           Converts a &quot;Unicode::String&quot; to a boolean value.  Only the empty
           string is FALSE.  A string consisting of only the character U+0030 is
           considered TRUE, even if Perl consider &quot;0&quot; to be FALSE.

       $us-&gt;repeat( $count )
           Returns a new &quot;Unicode::String&quot; where the content of $us is repeated
           $count times.  This operation is also overloaded as:

             $us x $count

       $us-&gt;concat( $other_string )
           Concatenates the string $us and the string $other_string.  If
           $other_string is not an &quot;Unicode::String&quot; object, then it is first
           passed to the Unicode::String-&gt;new constructor function.  This
           operation is also overloaded as:

             $us . $other_string

       $us-&gt;append( $other_string )
           Appends the string $other_string to the value of $us.  If
           $other_string is not an &quot;Unicode::String&quot; object, then it is first
           passed to the Unicode::String-&gt;new constructor function.  This
           operation is also overloaded as:

             $us .= $other_string

       $us-&gt;copy
           Returns a copy of the current &quot;Unicode::String&quot; object.  This
           operation is overloaded as the assignment operator.

       $us-&gt;length
           Returns the length of the &quot;Unicode::String&quot;.  Surrogate pairs are
           still counted as 2.

       $us-&gt;byteswap
           This method will swap the bytes in the internal representation of the
           &quot;Unicode::String&quot; object.

           Unicode reserve the character U+FEFF character as a byte order mark.
           This works because the swapped character, U+FFFE, is reserved to not
           be valid.  For strings that have the byte order mark as the first
           character, we can guaranty to get the byte order right with the
           following code:

              $ustr-&gt;byteswap if $ustr-&gt;ord == 0xFFFE;

       $us-&gt;unpack
           Returns a list of integers each representing an UCS-2 character code.

       $us-&gt;pack( @uchr )
           Sets the value of $us as a sequence of UCS-2 characters with the
           characters codes given as parameter.

       $us-&gt;ord
           Returns the character code of the first character in $us.  The ord()
           method deals with surrogate pairs, which gives us a result-range of
           0x0 .. 0x10FFFF.  If the $us string is empty, undef is returned.

       $us-&gt;chr( $code )
           Sets the value of $us to be a string containing the character
           assigned code $code.  The argument $code must be an integer in the
           range 0x0 .. 0x10FFFF.  If the code is greater than 0xFFFF then a
           surrogate pair created.

       $us-&gt;name
           In scalar context returns the official Unicode name of the first
           character in $us.  In array context returns the name of all
           characters in $us.  Also see Unicode::CharName.

       $us-&gt;substr( $offset )
       $us-&gt;substr( $offset, $length )
       $us-&gt;substr( $offset, $length, $subst )
           Returns a sub-string of $us.  Works similar to the builtin substr()
           function.

       $us-&gt;index( $other )
       $us-&gt;index( $other, $pos )
           Locates the position of $other within $us, possibly starting the
           search at position $pos.

       $us-&gt;chop
           Chops off the last character of $us and returns it (as a
           &quot;Unicode::String&quot; object).

FUNCTIONS
       The following functions are provided.  None of these are exported by
       default.

       byteswap2( $str, ... )
           This function will swap 2 and 2 bytes in the strings passed as
           arguments.  If this function is called in void context, then it will
           modify its arguments in-place.  Otherwise, the swapped strings are
           returned.

       byteswap4( $str, ... )
           The byteswap4 function works similar to byteswap2, but will reverse
           the order of 4 and 4 bytes.

       latin1( $str )
       utf7( $str )
       utf8( $str )
       utf16le( $str )
       utf16be( $str )
       utf32le( $str )
       utf32be( $str )
           Constructor functions for the various Unicode encodings.  These
           return new &quot;Unicode::String&quot; objects.  The provided argument should
           be encoded correspondingly.
&#12;       uhex( $str )
           Constructs a new &quot;Unicode::String&quot; object from a string of hex
           values.  See hex() method above for description of the format.

       uchar( $num )
           Constructs a new one character &quot;Unicode::String&quot; object from a
           Unicode character code.  This works similar to perl&apos;s builtin chr()
           function.

SEE ALSO
       Unicode::CharName, Unicode::Map8

       &lt;http://www.unicode.org/&gt;

       perlunicode

COPYRIGHT
       Copyright 1997-2000,2005 Gisle Aas.

       This library is free software; you can redistribute it and/or modify it
       under the same terms as Perl itself.



perl v5.14.2                       2005-10-26                        String(3pm)

</pre></body></html>
