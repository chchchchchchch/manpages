<html>
<head><meta charset=utf-8/>
<title>XML::LibXML::Error - Structured Errors</title></head>
<body><pre>

XML::LibXML::Error(3pm)User Contributed Perl DocumentatioXML::LibXML::Error(3pm)



NAME
       XML::LibXML::Error - Structured Errors

SYNOPSIS
         eval { ... };
                 if (ref($@)) {
                   # handle a structured error (XML::LibXML::Error object)
                 } elsif ($@) {
                   # error, but not an XML::LibXML::Error object
                 } else {
                   # no error
                 }

         $XML::LibXML::Error::WARNINGS=1;
         $message = $@-&gt;as_string();
         print $@-&gt;dump();
         $error_domain = $@-&gt;domain();
         $error_code = $@-&gt;code();
         $error_message = $@-&gt;message();
         $error_level = $@-&gt;level();
         $filename = $@-&gt;file();
         $line = $@-&gt;line();
         $nodename = $@-&gt;nodename();
         $error_str1 = $@-&gt;str1();
         $error_str2 = $@-&gt;str2();
         $error_str3 = $@-&gt;str3();
         $error_num1 = $@-&gt;num1();
         $error_num2 = $@-&gt;num2();
         $string = $@-&gt;context();
         $offset = $@-&gt;column();
         $previous_error = $@-&gt;_prev();

DESCRIPTION
       The XML::LibXML::Error class is a tiny frontend to libxml2&apos;s structured
       error support. If XML::LibXML is compiled with structured error support,
       all errors reported by libxml2 are transformed to XML::LibXML::Error
       objects. These objects automatically serialize to the corresponding error
       messages when printed or used in a string operation, but as objects, can
       also be used to get a detailed and structured information about the error
       that occurred.

       Unlike most other XML::LibXML objects, XML::LibXML::Error doesn&apos;t wrap an
       underlying libxml2 structure directly, but rather transforms it to a
       blessed Perl hash reference containing the individual fields of the
       structured error information as hash key-value pairs. Individual items
       (fields) of a structured error can either be obtained directly as
       $@-&gt;{field}, or using autoloaded methods such as as $@-&gt;field() (where
       field is the field name). XML::LibXML::Error objects have the following
       fields: domain, code, level, file, line, nodename, message, str1, str2,
       str3, num1, num2, and _prev (some of them may be undefined).

       $XML::LibXML::Error::WARNINGS
             $XML::LibXML::Error::WARNINGS=1;

           Traditionally, XML::LibXML was suppressing parser warnings by setting
           libxml2&apos;s global variable xmlGetWarningsDefaultValue to 0. Since 1.70
           we do not change libxml2&apos;s global variables anymore; for backward
           compatibility, XML::LibXML suppresses warnings. This variable can be
           set to 1 to enable reporting of these warnings via Perl &quot;warn&quot; and to
           2 to report hem via &quot;die&quot;.

       as_string
             $message = $@-&gt;as_string();
&#12;           This function serializes an XML::LibXML::Error object to a string
           containing the full error message close to the message produced by
           libxml2 default error handlers and tools like xmllint. This method is
           also used to overload &quot;&quot; operator on XML::LibXML::Error, so it is
           automatically called whenever XML::LibXML::Error object is treated as
           a string (e.g. in print $@).

       dump
             print $@-&gt;dump();

           This function serializes an XML::LibXML::Error to a string displaying
           all fields of the error structure individually on separate lines of
           the form &apos;name&apos; =&gt; &apos;value&apos;.

       domain
             $error_domain = $@-&gt;domain();

           Returns string containing information about what part of the library
           raised the error. Can be one of: &quot;parser&quot;, &quot;tree&quot;, &quot;namespace&quot;,
           &quot;validity&quot;, &quot;HTML parser&quot;, &quot;memory&quot;, &quot;output&quot;, &quot;I/O&quot;, &quot;ftp&quot;, &quot;http&quot;,
           &quot;XInclude&quot;, &quot;XPath&quot;, &quot;xpointer&quot;, &quot;regexp&quot;, &quot;Schemas datatype&quot;,
           &quot;Schemas parser&quot;, &quot;Schemas validity&quot;, &quot;Relax-NG parser&quot;, &quot;Relax-NG
           validity&quot;, &quot;Catalog&quot;, &quot;C14N&quot;, &quot;XSLT&quot;, &quot;validity&quot;.

       code
             $error_code = $@-&gt;code();

           Returns the actual libxml2 error code. The XML::LibXML::ErrNo module
           defines constants for individual error codes. Currently libxml2 uses
           over 480 different error codes.

       message
             $error_message = $@-&gt;message();

           Returns a human-readable informative error message.

       level
             $error_level = $@-&gt;level();

           Returns an integer value describing how consequent is the error.
           XML::LibXML::Error defines the following constants:

           &#183;   XML_ERR_NONE = 0

           &#183;   XML_ERR_WARNING = 1 : A simple warning.

           &#183;   XML_ERR_ERROR = 2 : A recoverable error.

           &#183;   XML_ERR_FATAL = 3 : A fatal error.

       file
             $filename = $@-&gt;file();

           Returns the filename of the file being processed while the error
           occurred.

       line
             $line = $@-&gt;line();

           The line number, if available.

       nodename
             $nodename = $@-&gt;nodename();

           Name of the node where error occurred, if available. When this field
           is non-empty, libxml2 actually returned a physical pointer to the
           specified node.  Due to memory management issues, it is very
           difficult to implement a way to expose the pointer to the Perl level
           as a XML::LibXML::Node. For this reason, XML::LibXML::Error currently
           only exposes the name the node.

       str1
             $error_str1 = $@-&gt;str1();

           Error specific. Extra string information.

       str2
             $error_str2 = $@-&gt;str2();

           Error specific. Extra string information.

       str3
             $error_str3 = $@-&gt;str3();

           Error specific. Extra string information.

       num1
             $error_num1 = $@-&gt;num1();

           Error specific. Extra numeric information.

       num2
             $error_num2 = $@-&gt;num2();

           In recent libxml2 versions, this value contains a column number of
           the error or 0 if N/A.

       context
             $string = $@-&gt;context();

           For parsing errors, this field contains about 80 characters of the
           XML near the place where the error occurred. The field &quot;$@-&gt;column()&quot;
           contains the corresponding offset. Where N/A, the field is undefined.

       column
             $offset = $@-&gt;column();

           See &quot;$@-&gt;column()&quot; above.

       _prev
             $previous_error = $@-&gt;_prev();

           This field can possibly hold a reference to another
           XML::LibXML::Error object representing an error which occurred just
           before this error.

AUTHORS
       Matt Sergeant, Christian Glahn, Petr Pajas

VERSION
       2.0001

COPYRIGHT
       2001-2007, AxKit.com Ltd.

       2002-2006, Christian Glahn.

       2006-2009, Petr Pajas.



perl v5.14.2                       2012-06-20            XML::LibXML::Error(3pm)

</pre></body></html>
