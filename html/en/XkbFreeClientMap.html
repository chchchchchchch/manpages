<html>
<head><meta charset=utf-8/>
<title>XkbFreeClientMap - Free memory used by the client map member of an XkbDescRec structure</title></head>
<body><pre>

XkbFreeClientMap(3)               XKB FUNCTIONS              XkbFreeClientMap(3)



NAME
       XkbFreeClientMap - Free memory used by the client map member of an XkbDe&#8208;
       scRec structure

SYNOPSIS
       void  XkbFreeClientMap  (XkbDescPtr  xkb,  unsigned   int   which,   Bool
              free_all);

ARGUMENTS
       - xkb  keyboard description containing client map to free

       - which
              mask identifying components of map to free

       - free_all
              True =&gt; free all client components and map itself

DESCRIPTION
       XkbFreeClientMap frees the components of client map specified by which in
       the XkbDescRec structure specified by the xkb parameter and sets the cor&#8208;
       responding structure component values to NULL. The which parameter speci&#8208;
       fies a combination of the client map masks shown in Table 1.

       If free_all is True, which is ignored; XkbFreeClientMap frees every  non-
       NULL  structure  component  in  the client map, frees the XkbClientMapRec
       structure referenced by the map member of the xkb parameter, and sets the
       map member to NULL.


       c  s  l  l  l  lw(4i).   Table  1 XkbAllocClientMap Masks _ Mask Effect _
       XkbKeyTypesMask     T{ The  type_count  field  specifies  the  number  of
       entries  to  preallocate  for  the  types field of the client map. If the
       type_count field is less than XkbNumRequiredTypes returns BadValue.  T}

       XkbKeySymsMask T{ The min_key_code and max_key_code  fields  of  the  xkb
       parameter  are  used  to  allocate the syms and key_sym_map fields of the
       client map. The fields are allocated to contain  the  maximum  number  of
       entries necessary for max_key_code - min_key_code + 1 keys.  T}

       XkbModifierMapMask  T{  The  min_key_code  and max_key_code fields of the
       xkb parameter are used to allocate the modmap field of  the  client  map.
       The field is allocated to contain the maximum number of entries necessary
       for max_key_code - min_key_code + 1 keys.  T}

       NOTE: The min_key_code and max_key_code fields of the xkb parameter  must
       be legal values if the XkbKeySymsMask or XkbModifierMapMask masks are set
       in the which parameter. If they are not valid, XkbAllocClientMap  returns
       BadValue.

STRUCTURES
       The  complete  description  of an Xkb keyboard is given by an XkbDescRec.
       The component structures in the XkbDescRec represent the major Xkb compo&#8208;
       nents.

       typedef struct {
          struct _XDisplay * display;      /&#8727; connection to X server */
          unsigned short     flags;        /&#8727; private to Xkb, do not modify */
          unsigned short     device_spec;  /&#8727; device of interest */
          KeyCode            min_key_code; /&#8727; minimum keycode for device */
          KeyCode            max_key_code; /&#8727; maximum keycode for device */
          XkbControlsPtr     ctrls;        /&#8727; controls */
          XkbServerMapPtr    server;       /&#8727; server keymap */
          XkbClientMapPtr    map;          /&#8727; client keymap */
          XkbIndicatorPtr    indicators;   /&#8727; indicator map */
          XkbNamesPtr        names;        /&#8727; names for all components */
          XkbCompatMapPtr    compat;       /&#8727; compatibility map */
          XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The  display  field  points to an X display structure. The flags field is
       private to the library: modifying flags may yield unpredictable  results.
       The  device_spec  field  specifies  the device identifier of the keyboard
       input device, or XkbUseCoreKeyboard, which specifies  the  core  keyboard
       device.  The  min_key_code  and max_key_code fields specify the least and
       greatest keycode that can be returned by the keyboard.

       Each structure component has a corresponding mask bit  that  is  used  in
       function  calls  to  indicate that the structure should be manipulated in
       some manner, such as allocating it or freeing it. These masks  and  their
       relationships to the fields in the XkbDescRec are shown in Table 2.


       c  s  s l l l l l l.  Table 2 Mask Bits for XkbDescRec _ Mask Bit  XkbDe&#8208;
       scRec Field Value _  XkbControlsMask     ctrls     (1L&lt;&lt;0)  XkbServerMap&#8208;
       Mask    server    (1L&lt;&lt;1)   XkbIClientMapMask   map  (1L&lt;&lt;2)   XkbIndica&#8208;
       torMapMask indicators     (1L&lt;&lt;3)  XkbNamesMask   names     (1L&lt;&lt;4)  Xkb&#8208;
       CompatMapMask    compat    (1L&lt;&lt;5)       XkbGeometryMask     geom (1L&lt;&lt;6)
       XkbAllComponentsMask     All Fields     (0x7f)

       The map field of the complete Xkb keyboard description is  a  pointer  to
       the Xkb client map, which is of type XkbClientMapRec:

          typedef struct {                   /&#8727; Client Map */
             unsigned char     size_types;   /&#8727; # occupied entries in types */
             unsigned char     num_types;    /&#8727; # entries in types */
             XkbKeyTypePtr     types;        /&#8727; vector of key types used by this keymap */
             unsigned short    size_syms;    /&#8727; length of the syms array */
             unsigned short    num_syms;     /&#8727; # entries in syms */
             KeySym *          syms;         /&#8727; linear 2d tables of keysyms, 1 per key */
             XkbSymMapPtr      key_sym_map;  /&#8727; 1 per keycode, maps keycode to syms */
             unsigned char *   modmap;       /&#8727; 1 per keycode, real mods bound to key */
       } XkbClientMapRec, *XkbClientMapPtr;


DIAGNOSTICS
       BadValue       An argument is out of range

SEE ALSO
       XkbAllocClientMap(3)



X Version 11                      libX11 1.5.0               XkbFreeClientMap(3)

</pre></body></html>
