<html>
<head><meta charset=utf-8/>
<title>XkbFreeDeviceInfo - Free an XkbDeviceInfoRec structure</title></head>
<body><pre>

XkbFreeDeviceInfo(3)              XKB FUNCTIONS             XkbFreeDeviceInfo(3)



NAME
       XkbFreeDeviceInfo - Free an XkbDeviceInfoRec structure

SYNOPSIS
       void XkbFreeDeviceInfo (XkbDeviceInfoPtr device_info, unsigned int which,
              Bool free_all);

ARGUMENTS
       - device_info
              pointer to XkbDeviceInfoRec in which to free items

       - which
              mask of components of device_info to free

       - free_all
              True =&gt; free everything, including device_info

DESCRIPTION
       If free_all is  True,  the  XkbFreeDeviceInfo  frees  all  components  of
       device_info  and the XkbDeviceInfoRec structure pointed to by device_info
       itself. If free_all is False, the value of which determines which subcom&#8208;
       ponents are freed.  which is an inclusive OR of one or more of the values
       from Table 1.  If  which  contains  XkbXI_ButtonActionsMask,  all  button
       actions  associated  with device_info are freed, device_info-&gt;btn_acts is
       set to NULL, and device_info-&gt;num_btns is set to zero. If which  contains
       all  bits  in  XkbXI_IndicatorsMask,  all  XkbDeviceLedInfoRec structures
       associated with device_info are freed, device_info-&gt;leds is set to  NULL,
       and  device_info-&gt;sz_leds  and  device_info-&gt;num_leds are set to zero. If
       which contains XkbXI_IndicatorMapsMask,  all  indicator  maps  associated
       with  device_info are cleared, but the number of LEDs and the leds struc&#8208;
       tures themselves is preserved. If  which  contains  XkbXI_IndicatorNames&#8208;
       Mask,  all  indicator  names associated with device_info are cleared, but
       the number of LEDs and the leds structures themselves  is  preserved.  If
       which  contains  XkbXI_IndicatorStateMask, the indicator state associated
       with the device_info leds are set to zeros but the number of LEDs and the
       leds structures themselves is preserved.
                                Table 1 XkbDeviceInfoRec Mask Bits
       ____________________________________________________________________________________
       Name                         XkbDeviceInfoRec Value     Capability If Set
                                    Fields Effected
       ____________________________________________________________________________________
       XkbXI_KeyboardsMask                           (1L &lt;&lt;0) Clients can use all
                                                              Xkb requests and events
                                                              with KeyClass devices
                                                              supported by the input
                                                              device extension.

       XkbXI_ButtonActionsMask       num_btns        (1L &lt;&lt;1) Clients can assign key
                                     btn_acts                 actions to buttons
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorNamesMask      leds-&gt;names     (1L &lt;&lt;2) Clients can assign
                                                              names to indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorMapsMask       leds-&gt;maps      (1L &lt;&lt;3) Clients can assign
                                                              indicator maps to
                                                              indicators on
                                                              non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorStateMask      leds-&gt;state     (1L &lt;&lt;4) Clients can request
                                                              the status of indicators
                                                              on non-KeyClass input
                                                              extension devices.

       XkbXI_IndicatorsMask          sz_leds         (0x1c)   XkbXI_IndicatorNamesMask |
                                     num_leds                 XkbXI_IndicatorMapsMask |
                                     leds-&gt;*                  XkbXI_IndicatorStateMask

       XkbXI_UnsupportedFeaturesMask unsupported     (1L &lt;&lt;15)

       XkbXI_AllDeviceFeaturesMask   Those selected  (0x1e)   XkbXI_IndicatorsMask |
                                     by Value Column          XkbSI_ButtonActionsMask
                                     masks

       XkbXI_AllFeaturesMask         Those selected  (0x1f)   XkbSI_AllDeviceFeaturesMask |
                                     by Value Column          XkbSI_KeyboardsMask
                                     masks

       XkbXI_AllDetailsMask          Those selected  (0x801f) XkbXI_AllFeaturesMask |
                                     by Value column          XkbXI_UnsupportedFeaturesMask
                                     masks

STRUCTURES
       Information  about  X  Input  Extension  devices is transferred between a
       client program and the Xkb extension in an XkbDeviceInfoRec structure:

       typedef struct {
           char *               name;          /&#8727; name for device */
           Atom                 type;          /&#8727; name for class of devices */
           unsigned short       device_spec;   /&#8727; device of interest */
           Bool                 has_own_state; /&#8727; True=&gt;this device has its own state */
           unsigned short       supported;     /&#8727; bits indicating supported capabilities */
           unsigned short       unsupported;   /&#8727; bits indicating unsupported capabilities */
           unsigned short       num_btns;      /&#8727; number of entries in btn_acts */
           XkbAction *          btn_acts;      /&#8727; button actions */
           unsigned short       sz_leds;       /&#8727; total number of entries in LEDs vector */
           unsigned short       num_leds;      /&#8727; number of valid entries in LEDs vector */
           unsigned short       dflt_kbd_fb;   /&#8727; input extension ID of default (core kbd) indicator */
           unsigned short       dflt_led_fb;   /&#8727; input extension ID of default indicator feedback */
           XkbDeviceLedInfoPtr  leds;          /&#8727; LED descriptions */
       } XkbDeviceInfoRec, *XkbDeviceInfoPtr;

       typedef struct {
           unsigned short      led_class;        /&#8727; class for this LED device*/
           unsigned short      led_id;           /&#8727; ID for this LED device */
           unsigned int        phys_indicators;  /&#8727; bits for which LEDs physically present */
           unsigned int        maps_present;     /&#8727; bits for which LEDs have maps in maps */
           unsigned int        names_present;    /&#8727; bits for which LEDs are in names */
           unsigned int        state;            /&#8727; 1 bit =&gt; corresponding LED is on */
           Atom                names[XkbNumIndicators];   /&#8727; names for LEDs */
           XkbIndicatorMapRec  maps;             /&#8727; indicator maps for each LED */
       } XkbDeviceLedInfoRec, *XkbDeviceLedInfoPtr;




X Version 11                      libX11 1.5.0              XkbFreeDeviceInfo(3)

</pre></body></html>
