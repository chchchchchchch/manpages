<html>
<head><meta charset=utf-8/>
<title>XkbFreeServerMap - Free memory used by the server member of an XkbDescRec structure</title></head>
<body><pre>

XkbFreeServerMap(3)               XKB FUNCTIONS              XkbFreeServerMap(3)



NAME
       XkbFreeServerMap - Free memory used by the server member of an XkbDescRec
       structure

SYNOPSIS
       void  XkbFreeServerMap  (XkbDescPtr  xkb,  unsigned   int   which,   Bool
              free_all);

ARGUMENTS
       - xkb  keyboard description containing server map to free

       - which
              mask identifying components of map to free

       - free_all
              True =&gt; free all server map components and server itself

DESCRIPTION
       The  XkbFreeServerMap  function  frees the specified components of server
       map in the XkbDescRec structure specified by the xkb parameter  and  sets
       the corresponding structure component values to NULL. The which parameter
       specifies a combination of the server map masks and is a  bitwise  inclu&#8208;
       sive  OR  of  the  masks listed in Table 1. If free_all is True, which is
       ignored and XkbFreeServerMap frees every non-NULL structure component  in
       the  server  map,  frees  the XkbServerMapRec structure referenced by the
       server member of the xkb parameter, and sets the server member to NULL.


       c s l l l lw(4i).  Table 1 XkbAllocServerMap Masks _ Mask Effect _ XkbEx&#8208;
       plicitComponentsMask     T{  The  min_key_code and max_key_code fields of
       the xkb parameter are used to allocate the explicit field of  the  server
       map.  T}

       XkbKeyActionsMask   T{  The  min_key_code  and max_key_code fields of the
       xkb parameter are used to allocate the key_acts field of the server  map.
       The count_acts parameter is used to allocate the acts field of the server
       map.  T}

       XkbKeyBehaviorsMask T{ The min_key_code and max_key_code  fields  of  the
       xkb parameter are used to allocate the behaviors field of the server map.
       T}

       XkbVirtualModMapMask     T{ The min_key_code and max_key_code  fields  of
       the  xkb  parameter  are used to allocate the vmodmap field of the server
       map.  T}


STRUCTURES
       The complete description of an Xkb keyboard is given  by  an  XkbDescRec.
       The component structures in the XkbDescRec represent the major Xkb compo&#8208;
       nents.

       typedef struct {
          struct _XDisplay * display;      /&#8727; connection to X server */
          unsigned short     flags;        /&#8727; private to Xkb, do not modify */
          unsigned short     device_spec;  /&#8727; device of interest */
          KeyCode            min_key_code; /&#8727; minimum keycode for device */
          KeyCode            max_key_code; /&#8727; maximum keycode for device */
          XkbControlsPtr     ctrls;        /&#8727; controls */
          XkbServerMapPtr    server;       /&#8727; server keymap */
          XkbClientMapPtr    map;          /&#8727; client keymap */
          XkbIndicatorPtr    indicators;   /&#8727; indicator map */
          XkbNamesPtr        names;        /&#8727; names for all components */
          XkbCompatMapPtr    compat;       /&#8727; compatibility map */
          XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The display field points to an X display structure. The  flags  field  is
       private  to the library: modifying flags may yield unpredictable results.
       The device_spec field specifies the device  identifier  of  the  keyboard
       input  device,  or  XkbUseCoreKeyboard, which specifies the core keyboard
       device. The min_key_code and max_key_code fields specify  the  least  and
       greatest keycode that can be returned by the keyboard.

       Each  structure  component  has  a corresponding mask bit that is used in
       function calls to indicate that the structure should  be  manipulated  in
       some  manner,  such as allocating it or freeing it. These masks and their
       relationships to the fields in the XkbDescRec are shown in Table 2.


       c s s l l l l l l.  Table 2 Mask Bits for XkbDescRec _  Mask  Bit  XkbDe&#8208;
       scRec  Field Value  _ XkbControlsMask     ctrls     (1L&lt;&lt;0) XkbServerMap&#8208;
       Mask    server    (1L&lt;&lt;1)   XkbIClientMapMask   map  (1L&lt;&lt;2)   XkbIndica&#8208;
       torMapMask indicators     (1L&lt;&lt;3)  XkbNamesMask   names     (1L&lt;&lt;4)  Xkb&#8208;
       CompatMapMask    compat    (1L&lt;&lt;5)       XkbGeometryMask     geom (1L&lt;&lt;6)
       XkbAllComponentsMask     All Fields     (0x7f)

       The Xkb server map contains the information the server needs to interpret
       key events and is of type XkbServerMapRec:

       #define XkbNumVirtualMods          16

       typedef struct {                    /&#8727; Server Map */
           unsigned short    num_acts;     /&#8727; # of occupied entries in acts */
           unsigned short    size_acts;    /&#8727; # of entries in acts */
           XkbAction *       acts;         /&#8727; linear 2d tables of key actions, 1 per keycode */
           XkbBehavior *     behaviors;    /&#8727; key behaviors,1 per keycode */
           unsigned short *  key_acts;     /&#8727; index into acts, 1 per keycode */
           unsigned char *   explicit;     /&#8727; explicit overrides of core remapping, 1 per key */
           unsigned char     vmods[XkbNumVirtualMods]; /&#8727; real mods bound to virtual mods */
           unsigned short *  vmodmap;      /&#8727; virtual mods bound to key, 1 per keycode*/
       } XkbServerMapRec, *XkbServerMapPtr;




X Version 11                      libX11 1.5.0               XkbFreeServerMap(3)

</pre></body></html>
