<html>
<head><meta charset=utf-8/>
<title>XkbGetUpdatedMap -  Update the client or server map information in an existing keyboard description</title></head>
<body><pre>

XkbGetUpdatedMap(3)               XKB FUNCTIONS              XkbGetUpdatedMap(3)



NAME
       XkbGetUpdatedMap  -   Update  the  client or server map information in an
       existing keyboard description

SYNOPSIS
       Status XkbGetUpdatedMap (Display *display, unsigned int which, XkbDescPtr
              xkb);

ARGUMENTS
       - display
              connection to X server

       - which
              mask selecting subcomponents to populate

       - xkb  keyboard description to be updated

DESCRIPTION
       The which parameter is a bitwise inclusive OR of the masks in Table 1. If
       the needed components of the xkb structure  are  not  already  allocated,
       XkbGetUpdatedMap  allocates them.  XkbGetUpdatedMap fetches the requested
       information for the device specified in the XkbDescRec passed in the  xkb
       parameter.


       c  s s s s c s s s s l l l l l l l l l l lw(3i) l l lw(1i) lw(3i).  Table
       1   Xkb   Mapping   Component   Masks   and   Convenience   Functions   _
       Mask Value     Map  Fields    Convenience                     Functions _
       T{ XkbKeyTypesMask T}   (1&lt;&lt;0)    client    T{ types
       size_types
       num_types T}   T{ XkbGetKeyTypes
       XkbResizeKeyType
       XkbCopyKeyType
       XkbCopyKeyTypes T} T{ XkbKeySymsMask T}   (1&lt;&lt;1)    client    T{ syms
       size_syms
       num_syms
       key_sym_map T}   T{ XkbGetKeySyms
       XkbResizeKeySyms
       XkbChangeTypesOfKey          T}           T{           XkbModifierMapMask
       T}   (1&lt;&lt;2)    client    modmap    T{  XkbGetKeyModifierMap  T} T{ XkbEx&#8208;
       plicitComponentsMask   T}   (1&lt;&lt;3)    server    T{    explicit    T}   T{
       XkbGetKeyExplicitComponents         T}        T{        XkbKeyActionsMask
       T}   (1&lt;&lt;4)    server    T{ key_acts
       acts
       num_acts
       size_acts T}   T{ XkbGetKeyActions
       XkbResizeKeyActions T} T{ XkbKeyBehaviorsMask T}   (1&lt;&lt;5)    server    T{
       behaviors    T}   T{    XkbGetKeyBehaviors   T}   T{   XkbVirtualModsMask
       T}   (1&lt;&lt;6)    server    T{ vmods T}   T{ XkbGetVirtualMods T} T{ XkbVir&#8208;
       tualModMapMask  T}   (1&lt;&lt;7)    server    T{  vmodmap  T}   T{  XkbGetVir&#8208;
       tualModMap T}

       XkbGetUpdatedMap is synchronous; it queries the server  for  the  desired
       information,  waits  for a reply, and then returns. If successful, XkbGe&#8208;
       tUpdatedMap returns Success. If  unsuccessful,  XkbGetUpdatedMap  returns
       one  of  the  following:  BadAlloc (unable to allocate a component in the
       XkbDescRec structure), BadValue (some mask bits in which are  undefined),
       BadImplementation  (a  compatible  version  of  the  Xkb extension is not
       available in the server or the reply from the server was invalid).

RETURN VALUES
       Success        The XkbGetUpdatedMap function returns Success if  a  reply
                      is  received  to the server query for the desired informa&#8208;
                      tion.

STRUCTURES
       The complete description of an Xkb keyboard is given  by  an  XkbDescRec.
       The component structures in the XkbDescRec represent the major Xkb compo&#8208;
       nents.

       typedef struct {
          struct _XDisplay * display;      /&#8727; connection to X server */
          unsigned short     flags;        /&#8727; private to Xkb, do not modify */
          unsigned short     device_spec;  /&#8727; device of interest */
          KeyCode            min_key_code; /&#8727; minimum keycode for device */
          KeyCode            max_key_code; /&#8727; maximum keycode for device */
          XkbControlsPtr     ctrls;        /&#8727; controls */
          XkbServerMapPtr    server;       /&#8727; server keymap */
          XkbClientMapPtr    map;          /&#8727; client keymap */
          XkbIndicatorPtr    indicators;   /&#8727; indicator map */
          XkbNamesPtr        names;        /&#8727; names for all components */
          XkbCompatMapPtr    compat;       /&#8727; compatibility map */
          XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The display field points to an X display structure. The  flags  field  is
       private  to the library: modifying flags may yield unpredictable results.
       The device_spec field specifies the device  identifier  of  the  keyboard
       input  device,  or  XkbUseCoreKeyboard, which specifies the core keyboard
       device. The min_key_code and max_key_code fields specify  the  least  and
       greatest keycode that can be returned by the keyboard.

       Each  structure  component  has  a corresponding mask bit that is used in
       function calls to indicate that the structure should  be  manipulated  in
       some  manner,  such as allocating it or freeing it. These masks and their
       relationships to the fields in the XkbDescRec are shown in Table 2.

       c s s l l l l l l.  Table 2 Mask Bits for XkbDescRec _  Mask  Bit  XkbDe&#8208;
       scRec  Field Value  _ XkbControlsMask     ctrls     (1L&lt;&lt;0) XkbServerMap&#8208;
       Mask    server    (1L&lt;&lt;1)   XkbIClientMapMask   map  (1L&lt;&lt;2)   XkbIndica&#8208;
       torMapMask indicators     (1L&lt;&lt;3)  XkbNamesMask   names     (1L&lt;&lt;4)  Xkb&#8208;
       CompatMapMask    compat    (1L&lt;&lt;5)       XkbGeometryMask     geom (1L&lt;&lt;6)
       XkbAllComponentsMask     All Fields     (0x7f)

DIAGNOSTICS
       BadAlloc       Unable to allocate storage

       BadImplementation
                      Invalid reply from server

       BadValue       An argument is out of range

SEE ALSO
       XkbChangeTypesOfKey(3), XkbCopyKeyType(3), XkbCopyKeyTypes(3), XkbGetKey&#8208;
       Actions(3),    XkbGetKeyBehaviors(3),     XkbGetKeyExplicitComponents(3),
       XkbGetKeyModifierMap(3),   XkbGetKeySyms(3),   XkbGetKeyTypes(3),  XkbRe&#8208;
       sizeKeyActions(3), XkbResizeKeySyms(3),  XkbResizeKeyType(3),  XkbGetVir&#8208;
       tualModMap(3), XkbGetVirtualMods(3)



X Version 11                      libX11 1.5.0               XkbGetUpdatedMap(3)

</pre></body></html>
