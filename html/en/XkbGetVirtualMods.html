<html>
<head><meta charset=utf-8/>
<title>XkbGetVirtualMods - Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description</title></head>
<body><pre>

XkbGetVirtualMods(3)              XKB FUNCTIONS             XkbGetVirtualMods(3)



NAME
       XkbGetVirtualMods - Obtain a subset of the virtual modifier bindings (the
       vmods array) in a keyboard description

SYNOPSIS
       Status XkbGetVirtualMods (Display *dpy, unsigned  int  which,  XkbDescPtr
              xkb);

ARGUMENTS
       - dpy  connection to server

       - which
              mask indicating virtual modifier bindings to get

       - xkb  Xkb description where results will be placed

DESCRIPTION
       XkbGetVirtualMods  sends  a  request  to  the  server to obtain the vmods
       entries for the virtual modifiers specified in the mask, which, and waits
       for a reply.

       Virtual  modifiers are named by converting their string name to an X Atom
       and storing the Atom in the names.vmods array in an XkbDescRec structure.
       The  position  of  a  name  Atom in the names.vmods array defines the bit
       position used to represent the virtual modifier and also the  index  used
       when accessing virtual modifier information in arrays: the name in the i-
       th (0 relative) entry of names.vmods is the i-th virtual modifier, repre&#8208;
       sented  by  the  mask  (1&lt;&lt;i).  Throughout  Xkb, various functions have a
       parameter that is a mask representing virtual modifier choices.  In  each
       case,  the  i-th bit (0 relative) of the mask represents the i-th virtual
       modifier.

       To set the name of a virtual modifier,  use  XkbSetNames,  using  XkbVir&#8208;
       tualModNamesMask  in  which and the name in the xkb argument; to retrieve
       indicator names, use XkbGetNames.

       For each bit set in which, XkbGetVirtualMods  updates  the  corresponding
       virtual  modifier  definition in the server-&gt;vmods array of xkb.  The xkb
       parameter must be a pointer to a valid Xkb keyboard description. If  suc&#8208;
       cessful, XkbGetVirtualMods returns Success.

       Virtual Modifier Names and Masks

       Virtual  modifiers are named by converting their string name to an X Atom
       and storing the Atom in the names.vmods array in an XkbDescRec structure.
       The  position  of  a  name  Atom in the names.vmods array defines the bit
       position used to represent the virtual modifier and also the  index  used
       when accessing virtual modifier information in arrays: the name in the i-
       th (0 relative) entry of names.vmods is the i-th virtual modifier, repre&#8208;
       sented  by  the  mask  (1&lt;&lt;i).  Throughout  Xkb, various functions have a
       parameter that is a mask representing virtual modifier choices.  In  each
       case,  the  i-th bit (0 relative) of the mask represents the i-th virtual
       modifier.

       To set the name of a virtual modifier,  use  XkbSetNames,  using  XkbVir&#8208;
       tualModNamesMask  in  which and the name in the xkb argument; to retrieve
       indicator names, use XkbGetNames.

       If the server map has not been allocated in the xkb parameter, XkbGetVir&#8208;
       tualMods  allocates and initializes it before obtaining the virtual modi&#8208;
       fier bindings.
&#12;       If the server does not have a compatible  version  of  Xkb,  or  the  Xkb
       extension  has  not  been properly initialized, XkbGetVirtualMods returns
       BadMatch. Any errors in  allocation  cause  XkbGetVirtualMods  to  return
       BadAlloc.

RETURN VALUES
       Success        The  XkbGetVirtualMods  function  returns  Success when it
                      successfully updates the  corresponding  virtual  modifier
                      definition in the server-&gt;vmods array of xkb.

STRUCTURES
       The  complete  description  of an Xkb keyboard is given by an XkbDescRec.
       The component structures in the XkbDescRec represent the major Xkb compo&#8208;
       nents.

       typedef struct {
          struct _XDisplay * display;      /&#8727; connection to X server */
          unsigned short     flags;        /&#8727; private to Xkb, do not modify */
          unsigned short     device_spec;  /&#8727; device of interest */
          KeyCode            min_key_code; /&#8727; minimum keycode for device */
          KeyCode            max_key_code; /&#8727; maximum keycode for device */
          XkbControlsPtr     ctrls;        /&#8727; controls */
          XkbServerMapPtr    server;       /&#8727; server keymap */
          XkbClientMapPtr    map;          /&#8727; client keymap */
          XkbIndicatorPtr    indicators;   /&#8727; indicator map */
          XkbNamesPtr        names;        /&#8727; names for all components */
          XkbCompatMapPtr    compat;       /&#8727; compatibility map */
          XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */
       } XkbDescRec, *XkbDescPtr;

       The  display  field  points to an X display structure. The flags field is
       private to the library: modifying flags may yield unpredictable  results.
       The  device_spec  field  specifies  the device identifier of the keyboard
       input device, or XkbUseCoreKeyboard, which specifies  the  core  keyboard
       device.  The  min_key_code  and max_key_code fields specify the least and
       greatest keycode that can be returned by the keyboard.

       Each structure component has a corresponding mask bit  that  is  used  in
       function  calls  to  indicate that the structure should be manipulated in
       some manner, such as allocating it or freeing it. These masks  and  their
       relationships to the fields in the XkbDescRec are shown in Table 1.


       c  s  s l l l l l l.  Table 1 Mask Bits for XkbDescRec _ Mask Bit  XkbDe&#8208;
       scRec Field Value _  XkbControlsMask     ctrls     (1L&lt;&lt;0)  XkbServerMap&#8208;
       Mask    server    (1L&lt;&lt;1)   XkbIClientMapMask   map  (1L&lt;&lt;2)   XkbIndica&#8208;
       torMapMask indicators     (1L&lt;&lt;3)  XkbNamesMask   names     (1L&lt;&lt;4)  Xkb&#8208;
       CompatMapMask    compat    (1L&lt;&lt;5)       XkbGeometryMask     geom (1L&lt;&lt;6)
       XkbAllComponentsMask     All Fields     (0x7f)

DIAGNOSTICS
       BadAlloc       Unable to allocate storage

       BadMatch       A compatible version of  Xkb  was  not  available  in  the
                      server  or  an argument has correct type and range, but is
                      otherwise invalid

SEE ALSO
       XkbGetNames(3), XkbSetNames(3)



X Version 11                      libX11 1.5.0              XkbGetVirtualMods(3)

</pre></body></html>
