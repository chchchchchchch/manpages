<html>
<head><meta charset=utf-8/>
<title>bsearch - binary search of a sorted array</title></head>
<body><pre>

BSEARCH(3)                  Linux Programmer&apos;s Manual                 BSEARCH(3)



NAME
       bsearch - binary search of a sorted array

SYNOPSIS
       #include &lt;stdlib.h&gt;

       void *bsearch(const void *key, const void *base,
                     size_t nmemb, size_t size,
                     int (*compar)(const void *, const void *));

DESCRIPTION
       The  bsearch()  function  searches an array of nmemb objects, the initial
       member of which is pointed to by base, for  a  member  that  matches  the
       object pointed to by key.  The size of each member of the array is speci&#8208;
       fied by size.

       The contents of the array should be in ascending sorted  order  according
       to  the  comparison function referenced by compar.  The compar routine is
       expected to have two arguments which point to the key object  and  to  an
       array  member,  in  that  order,  and should return an integer less than,
       equal to, or greater than zero if the key object is found,  respectively,
       to be less than, to match, or be greater than the array member.

RETURN VALUE
       The  bsearch()  function  returns  a  pointer to a matching member of the
       array, or NULL if no match is found.  If there are multiple elements that
       match the key, the element returned is unspecified.

CONFORMING TO
       SVr4, 4.3BSD, POSIX.1-2001, C89, C99.

EXAMPLE
       The example below first sorts an array of structures using qsort(3), then
       retrieves desired elements using bsearch().

       #include &lt;stdio.h&gt;
       #include &lt;stdlib.h&gt;
       #include &lt;string.h&gt;

       struct mi {
           int nr;
           char *name;
       } months[] = {
           { 1, &quot;jan&quot; }, { 2, &quot;feb&quot; }, { 3, &quot;mar&quot; }, { 4, &quot;apr&quot; },
           { 5, &quot;may&quot; }, { 6, &quot;jun&quot; }, { 7, &quot;jul&quot; }, { 8, &quot;aug&quot; },
           { 9, &quot;sep&quot; }, {10, &quot;oct&quot; }, {11, &quot;nov&quot; }, {12, &quot;dec&quot; }
       };

       #define nr_of_months (sizeof(months)/sizeof(months[0]))

       static int
       compmi(const void *m1, const void *m2)
       {
           struct mi *mi1 = (struct mi *) m1;
           struct mi *mi2 = (struct mi *) m2;
           return strcmp(mi1-&gt;name, mi2-&gt;name);
       }

       int
       main(int argc, char **argv)
       {
           int i;

           qsort(months, nr_of_months, sizeof(struct mi), compmi);
           for (i = 1; i &lt; argc; i++) {
               struct mi key, *res;
               key.name = argv[i];
               res = bsearch(&amp;key, months, nr_of_months,
                             sizeof(struct mi), compmi);
               if (res == NULL)
                   printf(&quot;&apos;%s&apos;: unknown month\n&quot;, argv[i]);
               else
                   printf(&quot;%s: month #%d\n&quot;, res-&gt;name, res-&gt;nr);
           }
           exit(EXIT_SUCCESS);
       }

SEE ALSO
       hsearch(3), lsearch(3), qsort(3), tsearch(3)

COLOPHON
       This page is part of release 3.44 of  the  Linux  man-pages  project.   A
       description  of the project, and information about reporting bugs, can be
       found at http://www.kernel.org/doc/man-pages/.



                                   2003-11-01                         BSEARCH(3)

</pre></body></html>
