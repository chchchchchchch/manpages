<html>
<head><meta charset=utf-8/>
<title>groff_hdtbl - groff `hdtbl' macros for generation of tables</title></head>
<body><pre>

GROFF_HDTBL(7)                                                    GROFF_HDTBL(7)



NAME
       groff_hdtbl - groff `hdtbl&apos; macros for generation of tables

DESCRIPTION
       The  hdtbl  macros  consist  of four base and three optional macros, con&#8208;
       trolled by about twenty arguments.  The syntax is simple and  similar  to
       the  HTML  table model and nearly as flexible: You can write sequences of
       tokens (macro calls with their arguments and content data), separated  by
       blanks and beginning with a macro call, into the same line to get compact
       and cleanly arrranged input.  An advantage of hdtbl is  that  the  tables
       are  constructed  without calling a preprocessor; this means that groff&apos;s
       full macro capabilities are available.  On the other hand, table process&#8208;
       ing with hdtbl is much slower than using the tbl(1) preprocessor.  A fur&#8208;
       ther advantage is that the HTML-like syntax of hdtbl will be easily  con&#8208;
       verted to HTML; this is not implemented yet.

USAGE
       The  simplest well-formed table consists of just single calls to the four
       base table macros in the right order.  Here we  construct  a  table  with
       only one cell.

              .TBL
              .TR
              .TD
              contents of the table cell
              .ETB

       Equivalent to the above is the following notation.

              .TBL .TR .TD contents of the table cell .ETB

       By  default, the formatted table is inserted into the surrounding text at
       the place of its definition.  If the vertical space isn&apos;t sufficient,  it
       is  placed  at  the  top of the next page.  Tables can also be stored for
       later insertion.

       Using &#8216;row-number*column-number&#8217; as the data for the table cells, a table
       with two rows and two columns can be written as

              .TBL cols=2
              .  TR .TD 1*1 .TD 1*2
              .  TR .TD 2*1 .TD 2*2
              .ETB

       Here  we  see  a difference to HTML tables: The number of columns must be
       explicitly specified using the &#8216;cols=m&#8217; argument (or indirectly  via  the
       &#8216;width&#8217; argument, see below).

       The contents of a table cell is arbitrary; for example, it can be another
       table, without restriction to the nesting depth.  A  given  table  layout
       can  be  either  constructed  with  suitably nested tables or with proper
       arguments to .TD and .TH, controlling column  and  row  spanning.   Note,
       however, that this table

              .TBL
              .  TR
              .    TD
              .      nop 1*1 1*2
              .  TR
              .    TD
              .      TBL cols=2 border=
              .        TR
              .          TD
              .            nop 2*1
              .          TD
              .            nop 2*2
              .      ETB
              .ETB

       and this table

              .TBL cols=2
              .  TR
              .    TD colspan=2
              .      nop 1*1 1*2
              .  TR
              .    TD
              .      nop 2*1
              .    TD
              .      nop 2*2
              .ETB

       are similar but not identical.

       Here the latter table in a more compact form.

              .TBL cols=2 .TR &quot;.TD colspan=2&quot; 1*1 1*2
              .            TR .TD 2*1 .TD 2*2 .ETB

       If  a  macro has one or more arguments, and it is not starting a line, it
       must be enclosed in double quotes.

MACROS AND ARGUMENTS
       The order of macro calls and other tokens follows the HTML model.  In the
       following list, valid predecessors and successors of all hdtbl macros are
       given, together with the possible arguments.

       Macro arguments are separated by blanks.  The order of arguments is arbi&#8208;
       trary; they are of the form

              key=value

       or

              key=&apos;value1 [value2 [...]]&apos;

       with the only exception of the optional argument of the macro .ETB, which
       is the string &#8216;hold&#8217;.  Another possible form is

              &quot;key=value1 [value2 [...]]&quot;

       However, this is limited to the case where the macro is the first one  in
       the line and not already enclosed in double quotes.

       Argument  values  specified  below as c are colors predefined by groff or
       colors defined by the user with the .defcolor request.  Argument values d
       are decimal numbers with or without decimal point.  Argument values m are
       natural numbers.  Argument values n are numerical values with  the  usual
       groff  scaling  indicators.  Some of the arguments are specific to one or
       two macros, but most of them can be specified with .TBL,  .TR,  .TD,  and
       .TH.  These common arguments are explained in the next subsection.

       Most of the argument default values can be changed by the user by setting
       corresponding default registers or strings, as listed below.

       .TBL [args]
              Begin a new table.
&#12;              predecessor: .TD, .TH, .ETB, cell contents
              successor: .CPTN, .TR
              arguments:
                     border=[n]
                            Thickness of the surrounding box border.   &#8216;border=&#8217;
                            (no  value)  means  neither a surrounding box border
                            nor  any  horizontal  or  vertical  separator  lines
                            between  the  table rows and cells.  &#8216;border=0&#8217; sup&#8208;
                            presses the surrounding box border, but still allows
                            separator lines between cells and rows.
                            Default: &#8216;border=.1n&#8217; (register &#8216;t*b&#8217;).
                     bc=c   Border color.
                            Default: &#8216;bc=red4&#8217; (string &#8216;t*bc&#8217;).
                     cols=m Number of table columns.  This argument is necessary
                            if more than one column  is  in  the  table  and  no
                            &#8216;width&#8217; arguments are present.
                            Default: &#8216;cols=1&#8217; (register &#8216;t*cols&#8217;).
                     cpd=n  Cell padding, i.e., the extra space between the cell
                            space border and the cell contents.
                            Default: &#8216;cpd=.5n&#8217; (register &#8216;t*cpd&#8217;).
                     csp=n  Cell spacing, i.e., the extra space between the  ta&#8208;
                            ble  border  or vertical or horizontal lines between
                            cells and the cellspace.
                            Default: &#8216;csp=.5n&#8217; (register &#8216;t*csp&#8217;).
                     tal=l|c|r
                            Horizontal alignment of the table, if it is  smaller
                            than  the  line  width.   &#8216;tal=l&#8217;:  left  alignment.
                            &#8216;tal=c&#8217;: centered alignment.  &#8216;tal=r&#8217;: right  align&#8208;
                            ment.
                            Default: &#8216;tal=l&#8217; (register &#8216;t*tal&#8217;).
                     width=&apos;w1 [w2 [...]]&apos;
                            Widths  of table cells.  w1, w2, ... are either num&#8208;
                            bers of type n or natural numbers with  the  pseudo-
                            scaling  indicator &#8216;%&#8217;, with the meaning &#8220;percent of
                            the actual line length (or column length  for  inner
                            tables,  respectively)&#8221;.   If  there  are less width
                            values than table columns, the last width  value  is
                            used for the remaining cells.  The argument

                                   width=&apos;1.5i 10%&apos;

                            for  example  indicates  that  the  first  column is
                            1.5inches wide; the remaining columns take  1/10  of
                            the column length each.
                            Default:  The  table  width  equals  the  outer line
                            length or column  length;  the  columns  have  equal
                            widths.
                     height=n
                            Height of the table.  If the table with its contents
                            is lower than n, the last row is stretched  to  this
                            value.

       .CPTN [args]
              Text of caption.

              The (optionally numbered) table caption.  .CPTN is optional.

              predecessor: .TBL
              successor: .TR
              arguments:
                     val=t|b
                            Vertical  alignment  of the table caption.  &#8216;val=t&#8217;:
                            The caption is placed above the table.  &#8216;val=b&#8217;: The
                            caption is placed below the table.
                            Default: &#8216;val=t&#8217; (string &#8216;t*cptn&#8217;).
&#12;       .TR [args]
              Begin a new table row.

              predecessor: .TBL, .CPTN, .TD, .TH, .ETB, cell contents
              successor: .TD, .TH
              arguments:
                     height=n
                            The  height  of  the  row.   If a cell in the row is
                            higher than n this value is ignored;  otherwise  the
                            row height is stretched to n.

       .TD [args [cell contents]]
              Begin a table data cell.
       .TH [args [cell contents]]
              Begin a table header cell.

              Arguments  and  cell  contents can be mixed.  The macro .TH is not
              really necessary and differs from .TD only in three  default  set&#8208;
              tings, similar to the &lt;TH&gt; and &lt;TD&gt; HTML tags: The contents of .TH
              is horizontally and vertically centered and typeset in boldface.

              predecessor: .TR, .TD, .TH, .ETB, cell contents
              successor: .TD, .TH, .TR, .ETB, cell contents
              arguments:
                     colspan=m
                            The width of this cell is the sum of the  widths  of
                            the m cells above and below this row.
                     rowspan=m
                            The height of this cell is the sum of the heights of
                            the m cells left and right of this column.

                            Remark: Overlapping of column and row  spanning,  as
                            in  the  following  table  fragment (the overlapping
                            happens in the second cell in the  second  row),  is
                            invalid and causes incorrect results.

                                   .TR .TD 1*1 &quot;.TD 1*2 rowspan=2&quot; .TD 1*3
                                   .TR &quot;.TD 2*1 colspan=2&quot;         .TD 2*3

       .ETB [hold]
              End of the table.

              This  macro  finishes  a  table.   It  causes one of the following
              actions.

              &#183;  If the argument &#8216;hold&#8217; is given, the table is held until it  is
                 freed  by  calling  the macro .t*free, which in turn prints the
                 table immediately, either at the current position or at the top
                 of  the  next  page  if its height is larger than the remaining
                 space on the page.

              &#183;  Otherwise, if the table is higher than the remaining  space  on
                 the page, it is printed at the top of the next page.

              &#183;  If none of the two above constraints hold, the table is printed
                 immediately at the place of its definition.

              predecessor: .TD, .TH, .ETB, cell contents
              successor: .TBL, .TR, .TD, .TH, .ETB, cell contents
              arguments:
                     hold   Prevent the table from being  printed  until  it  is
                            freed  by  calling the macro .t*free.  This argument
                            is ignored for inner (nested) tables.

       .t*free [n]
              Free the next held table or n  held  tables.   Call  this  utility
              macro  to print tables which are held by using the &#8216;hold&#8217; argument
              of the .ETB macro.

   Arguments common to .TBL, .TR, .TD, and .TH
       The arguments described in this section can be specified  with  the  .TBL
       and .TR macros, but they are eventually passed on to the table cells.  If
       omitted, the defaults take place, which the user can  change  by  setting
       the  corresponding  default  registers  or  strings, as documented below.
       Setting an argument with the .TBL macro has the same effect as setting it
       for  all rows in the table.  Setting an argument with a .TR macro has the
       same effect as setting it for all the .TH or .TD macro in this row.

       bgc=[c]
              The background color of the table cells.  This includes  the  area
              specified with the &#8216;csp&#8217; argument.  The argument &#8216;bgc=&#8217; (no value)
              suppresses a background color; this makes the background transpar&#8208;
              ent.
              Default: &#8216;bgc=bisque&#8217; (string &#8216;t*bgc&#8217;).
       fgc=c  The foreground color of the cell contents.
              Default: &#8216;fgc=red4&#8217; (string &#8216;t*fgc&#8217;).
       ff=name
              The font family for the table.  name is one of the groff font fam&#8208;
              ilies, for example A for the AvantGarde fonts or HN for Helvetica-
              Narrow.
              Default: The font family found before the table (string &#8216;t*ff&#8217;).
       fst=style
              The  font  style  for the table.  One of R, I, B, or BI for roman,
              bold, italic, or bold italic, respectively.  As  with  roff&apos;s  .ft
              request  the &#8216;fst&#8217; argument can be used to specify the font family
              and font style together, for example &#8216;fst=HNBI&#8217; instead of &#8216;ff=HN&#8217;
              and &#8216;fst=BI&#8217;.
              Default:  The  font  style  in  use right before the table (string
              &#8216;t*fst&#8217;).
       fsz=&apos;d1 [d2]&apos;
              A decimal or fractional factor d1, by which the point size for the
              table  is  changed,  and d2, by which the vertical line spacing is
              changed.  If d2 is omitted, value d1 is taken for both.
              Default: &#8216;fsz=&apos;1.0 1.0&apos;&#8217; (string &#8216;t*fsz&#8217;).
       hal=l|c|b|r
              Horizontal alignment of the cell contents in the table.   &#8216;hal=l&#8217;:
              left alignment.  &#8216;hal=c&#8217;: centered alignment.  &#8216;hal=b&#8217;: both (left
              and right) alignment.  &#8216;hal=r&#8217;: right alignment.
              Default: &#8216;hal=b&#8217; (string &#8216;t*hal&#8217;).
       val=t|m|b
              Vertical alignment of the cell contents in  the  table  for  cells
              lower  than  the current row.  &#8216;val=t&#8217;: alignment below the top of
              the cell.  &#8216;val=m&#8217;: alignment in the middle of the cell.  &#8216;val=b&#8217;:
              alignment above the cell bottom.
              Default: &#8216;val=t&#8217; (string &#8216;t*val&#8217;).
       hl=[s|d]
              Horizontal  line  between  the rows.  If specified with .TD or .TH
              this is a separator line to the cell below.  &#8216;hl=&#8217; (no value):  no
              separator line.  &#8216;hl=s&#8217;: a single separator line between the rows.
              &#8216;hl=d&#8217;: a double separator line.

              The thickness of the separator lines is the  half  of  the  border
              thickness,  but at least 0.1inches.  The distance between the dou&#8208;
              ble lines is equal to the line thickness.

              Remark: Together with &#8216;border=0&#8217; for proper formatting  the  value
              of &#8216;csp&#8217; must be at least .05inches for single separator lines and
              .15inches for double separator lines.
              Default: &#8216;hl=s&#8217; (string &#8216;t*hl&#8217;).
       vl=[s|d]
              Vertical separator line between the cells.  If specified with  .TD
              or .TH this is a separator line to the cell on the right.  &#8216;vl=s&#8217;:
              a single separator line between the cells.  &#8216;vl=d&#8217;: a double sepa&#8208;
              rator  line.   &#8216;vl=&#8217; (no value): no vertical cell separator lines.
              For more information see the documentation of  the  &#8216;hl&#8217;  argument
              above.
              Default: &#8216;vl=s&#8217; (string &#8216;t*vl&#8217;).

HDTBL CUSTOMIZATION
       Before  creating  the first table, you should configure default values to
       minimize the markup needed in each table.  The following example sets  up
       defaults suitable for typical papers:

              .ds t*bgc white\&quot; background color
              .ds t*fgc black\&quot; foreground color
              .ds t*bc black\&quot;  border color
              .nr t*cpd 0.1n\&quot;  cell padding

       The  file  examples/common.roff  provides  another  example  setup in the
       ``minimal Page setup&apos;&apos; section.

       A table which does not fit on a partially filled page is printed automat&#8208;
       ically on the top of the next page if you append the little utility macro
       t*hm to the page header macro of your document&apos;s main macro package.  For
       example, say

              .am pg@top
              .  t*hm
              ..

       if you use the ms macro package.

       The macro t*EM checks for held or kept tables, and for missing ETB macros
       (table not closed).  You can append this macro to the  ``end&apos;&apos;  macro  of
       your document&apos;s main macro package.  For example:

              .am pg@end-text
              .  t*EM
              ..

       If you use the ms macro package.

AUTHOR
       Joachim Walsdorff &#10216;Joachim.Walsdorff@urz.uni-heidelberg.de&#10217;

BUGS AND SUGGESTIONS
       Please  send  your commments to the groff mailing list &#10216;groff@gnu.org&#10217; or
       directly to the author.



Groff Version 1.21              31 December 2010                  GROFF_HDTBL(7)

</pre></body></html>
