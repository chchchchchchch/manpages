<html>
<head><meta charset=utf-8/>
<title>jfs_debugfs - shell-type JFS file system editor</title></head>
<body><pre>

jfs_debugfs(8)               JFS file system editor               jfs_debugfs(8)



NAME
       jfs_debugfs - shell-type JFS file system editor


SYNOPSIS
       jfs_debugfs device


DESCRIPTION
       jfs_debugfs  is  a program which can be used to perform various low-level
       actions on a JFS formatted device.

       device is the special file name corresponding to the actual device to  be
       edited (e.g. /dev/hdb1).

       jfs_debugfs must be run as root.


COMMANDS
       a[lter] &lt;block&gt; &lt;offset&gt; &lt;hex_string&gt;
               replaces  the  data  located  at  the  &lt;offset&gt;  of  &lt;block&gt; with
              &lt;hex_string&gt;

              &lt;block&gt; is the block number - given in decimal

              &lt;offset&gt; is the offset within that block - given in hexadecimal

              &lt;hex_string&gt; is an even-numbered string of hexadecimal  digits  to
              write to the disk


       b[tree] &lt;block&gt; [&lt;offset&gt;]
              * not implemented yet *
               displays one node of the btree located at &lt;offset&gt; of &lt;block&gt; and
              enters a subcommand mode to navigate the btree

              SUBCOMMANDS:
               l =&gt; visit left sibling
               m =&gt; modify current node
               p =&gt; visit parent node
               r =&gt; visit right sibling
               [0-9] =&gt; visit the n&apos;th child node
               x =&gt; exit subcommand mode


       cb[blfsck]
               displays the area used  by  ClearBadBlockList  for  communication
              with fsck

              SUBCOMMANDS:
               m =&gt; modify entries
               x =&gt; exit subcommand mode


       dir[ectory] &lt;inode_number&gt; [&lt;file_set&gt;]
               displays  the directory entries at &lt;inode_number&gt; and enters sub&#8208;
              command mode

              &lt;inode_number&gt; is the directory&apos;s inode - given in decimal

              &lt;file_set&gt; currently must be zero
&#12;              SUBCOMMANDS:
               m =&gt; modify entries
               x =&gt; exit subcommand mode


       d[isplay] [&lt;block&gt; [&lt;offset&gt; [&lt;format&gt; [&lt;count&gt;]]]]
              displays &lt;count&gt; objects located at the  &lt;offset&gt;  of  &lt;block&gt;  in
              &lt;format&gt;

              &lt;block&gt; is the block number - given in decimal

              &lt;offset&gt; is the offset within &lt;block&gt; - given in hexadecimal

              &lt;format&gt; is one of the following:
               a =&gt; ascii
               b =&gt; block allocation map
               d =&gt; decimal
               i =&gt; inode
               I =&gt; inode allocation map
               s =&gt; superblock
               x =&gt; hexadecimal
               X =&gt; extent allocation descriptor

              &lt;count&gt; is the number of objects to display - given in decimal


       dm[ap]
               displays aggregate disk (block) map

              SUBCOMMANDS
               m =&gt; modify map fields
               f =&gt; display free count
               t =&gt; display tree levels
               x =&gt; exit subcommand mode


       dt[ree] &lt;inode_number&gt; [&lt;file_set&gt;]
               displays  root  of  the directory btree located at &lt;inode_number&gt;
              and enters a subcommand mode to navigate the btree

              &lt;inode_number&gt; is the directory&apos;s inode - given in decimal

              &lt;file_set&gt; currently must be zero

              SUBCOMMANDS
               l =&gt; visit left sibling
               m =&gt; modify current node
               p =&gt; visit parent node (not parent directory)
               r =&gt; visit right sibling
               [0-9] =&gt; visit the n&apos;th child node
               x =&gt; exit subcommand mode


       fsckw[sphdr]
               displays the header of the fsck workspace in the aggregate

              SUBCOMMANDS:
               m =&gt; modify entries
               x =&gt; exit subcommand mode


       h[elp] [&lt;command&gt;]
               displays help for &lt;command&gt;
               if no command is given, all possible commands are displayed
&#12;       ia[g] [&lt;IAG_number&gt;] [a | s | &lt;file_set&gt;]
               displays IAG information for &lt;IAG_number&gt; and  enters  subcommand
              mode

              &lt;IAG_number&gt; is given in decimal

              a is to use the primary aggregate inode table

              s is to use the secondary aggregate inode table

              &lt;file_set&gt; currently must be zero

              SUBCOMMANDS
               e =&gt; display/modify inode extents map
               m =&gt; modify IAG
               p =&gt; display/modify persistent map
               w =&gt; display/modify working map
               x =&gt; exit subcommand mode


       i[node] [&lt;inode_number&gt;] [a | s | &lt;file_set&gt;]
               displays  inode information for &lt;inode_number&gt; and enters subcom&#8208;
              mand mode

              &lt;inode_number&gt; is given in decimal

              a is to use the primary aggregate inode table

              s is to use the secondary aggregate inode table

              &lt;file_set&gt; currently must be zero

              SUBCOMMANDS
               a =&gt; display/modify inode&apos;s ACL
               m =&gt; modify inode
               x =&gt; exit subcommand mode


       logs[uper]
               displays the journal log superblock and enters subcommand mode

              SUBCOMMANDS
               m =&gt; modify journal log superblock
               x =&gt; exit subcommand mode


       q[uit]
               exits jfs_debugfs


       se[t] [&lt;variable&gt; &lt;value&gt;]
              * not implemented yet *
               set user-defined &lt;variable&gt; to &lt;value&gt;
               if no arguments are given, displays all set variables

              &lt;variable&gt; must begin with an alphabetic character


       su[perblock] [p | s]
               displays superblock data

              p displays the primary superblock

              s displays the secondary superblock

              SUBCOMMANDS:
               m =&gt; modify entries
               x =&gt; exit subcommand mode


       s2p[erblock] [p | s]
               displays alternate superblock data

              p displays the primary superblock

              s displays the secondary superblock

              SUBCOMMANDS:
               m =&gt; modify entries
               x =&gt; exit subcommand mode


       u[nset] &lt;variable&gt;
              * not implemented yet *
               deletes user-defined &lt;variable&gt;


       xt[ree] &lt;inode_number&gt; [&lt;file_set&gt;]
               displays root of the non-directory btree located  at  &lt;inode_num&#8208;
              ber&gt; and enters a subcommand mode to navigate the btree

              &lt;inode_number&gt; is the directory&apos;s inode - given in decimal

              &lt;file_set&gt; currently must be zero

              SUBCOMMANDS
               l =&gt; visit left sibling
               m =&gt; modify current node
               p =&gt; visit parent node (not parent directory)
               r =&gt; visit right sibling
               [0-9] =&gt; visit the n&apos;th child node
               x =&gt; exit subcommand mode


REPORTING BUGS
       If  you  find  a  bug in JFS or jfs_debugfs, please report it via the bug
       tracking system (&quot;Report Bugs&quot; section) of the JFS project web site:
       http://jfs.sourceforge.net/

       Please send as much pertinent information as possible, including the com&#8208;
       plete  output  of  running jfs_fsck with the -v and -n options on the JFS
       device.


SEE ALSO
       jfs_fsck(8), jfs_mkfs(8), jfs_fscklog(8), jfs_logdump(8), jfs_tune(8),


AUTHORS
       Barry Arndt  (barndt@us.ibm.com)
       William Braswell, Jr.

       jfs_debugfs is maintained by IBM.
       See the JFS project web site for more details:
       http://jfs.sourceforge.net/



                                October 29, 2002                  jfs_debugfs(8)

</pre></body></html>
