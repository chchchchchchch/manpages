<html>
<head><meta charset=utf-8/>
<title>sem_open - initialize and open a named semaphore</title></head>
<body><pre>

SEM_OPEN(3)                 Linux Programmer&apos;s Manual                SEM_OPEN(3)



NAME
       sem_open - initialize and open a named semaphore

SYNOPSIS
       #include &lt;fcntl.h&gt;           /* For O_* constants */
       #include &lt;sys/stat.h&gt;        /* For mode constants */
       #include &lt;semaphore.h&gt;

       sem_t *sem_open(const char *name, int oflag);
       sem_t *sem_open(const char *name, int oflag,
                       mode_t mode, unsigned int value);

       Link with -pthread.

DESCRIPTION
       sem_open()  creates a new POSIX semaphore or opens an existing semaphore.
       The semaphore is identified by name.  For details of the construction  of
       name, see sem_overview(7).

       The  oflag  argument  specifies  flags  that control the operation of the
       call.  (Definitions of the flags values  can  be  obtained  by  including
       &lt;fcntl.h&gt;.)  If O_CREAT is specified in oflag, then the semaphore is cre&#8208;
       ated if it does not already exist.  The owner (user ID) of the  semaphore
       is set to the effective user ID of the calling process.  The group owner&#8208;
       ship (group ID) is set to the effective group ID of the calling  process.
       If  both  O_CREAT  and  O_EXCL  are  specified in oflag, then an error is
       returned if a semaphore with the given name already exists.

       If O_CREAT is specified in oflag, then two additional arguments  must  be
       supplied.   The  mode  argument specifies the permissions to be placed on
       the new semaphore, as for open(2).  (Symbolic definitions for the permis&#8208;
       sions  bits  can be obtained by including &lt;sys/stat.h&gt;.)  The permissions
       settings are masked against the process umask.  Both read and write  per&#8208;
       mission should be granted to each class of user that will access the sem&#8208;
       aphore.  The value argument specifies the initial value for the new sema&#8208;
       phore.   If  O_CREAT  is  specified,  and a semaphore with the given name
       already exists, then mode and value are ignored.

RETURN VALUE
       On success, sem_open() returns the address of  the  new  semaphore;  this
       address  is  used  when  calling  other  semaphore-related functions.  On
       error, sem_open() returns SEM_FAILED, with  errno  set  to  indicate  the
       error.

ERRORS
       EACCES The  semaphore  exists, but the caller does not have permission to
              open it.

       EEXIST Both O_CREAT and O_EXCL were specified in oflag, but  a  semaphore
              with this name already exists.

       EINVAL value was greater than SEM_VALUE_MAX.

       EINVAL name consists of just &quot;/&quot;, followed by no other characters.

       EMFILE The process already has the maximum number of files and open.

       ENAMETOOLONG
              name was too long.

       ENFILE The  system  limit  on  the  total  number  of open files has been
              reached.

       ENOENT The O_CREAT flag was not specified in oflag and no semaphore  with
              this  name exists; or, O_CREAT was specified, but name wasn&apos;t well
              formed.

       ENOMEM Insufficient memory.

CONFORMING TO
       POSIX.1-2001.

SEE ALSO
       sem_close(3), sem_getvalue(3), sem_post(3),  sem_unlink(3),  sem_wait(3),
       sem_overview(7)

COLOPHON
       This  page  is  part  of  release 3.44 of the Linux man-pages project.  A
       description of the project, and information about reporting bugs, can  be
       found at http://www.kernel.org/doc/man-pages/.



Linux                              2012-05-13                        SEM_OPEN(3)

</pre></body></html>
