<html>
<head><meta charset=utf-8/>
<title>timegm, timelocal - inverses of gmtime and localtime</title></head>
<body><pre>

TIMEGM(3)                   Linux Programmer&apos;s Manual                  TIMEGM(3)



NAME
       timegm, timelocal - inverses of gmtime and localtime

SYNOPSIS
       #include &lt;time.h&gt;

       time_t timelocal(struct tm *tm);

       time_t timegm(struct tm *tm);

   Feature Test Macro Requirements for glibc (see feature_test_macros(7)):

       timelocal(), timegm(): _BSD_SOURCE || _SVID_SOURCE

DESCRIPTION
       The  functions  timelocal() and timegm() are the inverses of localtime(3)
       and gmtime(3).

CONFORMING TO
       These functions are nonstandard GNU extensions that are also  present  on
       the BSDs.  Avoid their use; see NOTES.

NOTES
       The  timelocal()  function  is  equivalent to the POSIX standard function
       mktime(3).  There is no reason to ever use it.

       For a portable version of timegm(), set the TZ  environment  variable  to
       UTC, call mktime(3) and restore the value of TZ.  Something like

           #include &lt;time.h&gt;
           #include &lt;stdlib.h&gt;

           time_t
           my_timegm(struct tm *tm)
           {
               time_t ret;
               char *tz;

               tz = getenv(&quot;TZ&quot;);
               setenv(&quot;TZ&quot;, &quot;&quot;, 1);
               tzset();
               ret = mktime(tm);
               if (tz)
                   setenv(&quot;TZ&quot;, tz, 1);
               else
                   unsetenv(&quot;TZ&quot;);
               tzset();
               return ret;
           }

SEE ALSO
       gmtime(3), localtime(3), mktime(3), tzset(3)

COLOPHON
       This  page  is  part  of  release 3.44 of the Linux man-pages project.  A
       description of the project, and information about reporting bugs, can  be
       found at http://www.kernel.org/doc/man-pages/.



GNU                                2007-07-26                          TIMEGM(3)

</pre></body></html>
