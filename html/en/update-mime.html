<html>
<head><meta charset=utf-8/>
<title>update-mime - create or update MIME information</title></head>
<body><pre>

UPDATE-MIME(8)                Update MIME Programs                UPDATE-MIME(8)



NAME
       update-mime - create or update MIME information

SYNOPSIS
       update-mime [no parameters]

DESCRIPTION
       update-mime  updates  the  /etc/mailcap  file to reflect mime information
       changed by a Debian package during installation or removal.


   OPTIONS
       --local Generate files in the current user&apos;s home  directory  instead  of
       /etc.   This  allows  users to create a custom ordering configuration and
       get a complete ~/.mailcap file out of it.


OVERRIDING ORDER
       The order of entries in the /etc/mailcap file can be altered  by  editing
       the  /etc/mailcap.order  file.   Please see the mailcap.order(5) man page
       for more information.


CREATING ENTRIES
       To create entries in the mailcap file, packages need to create a file  in
       the  /usr/lib/mime/packages  directory.   In  this file goes the verbatim
       desired mailcap entries.  In addition to  the  standard  mailcap  options
       (described below) is a new priority option.  Specifying this will provide
       for simple ranking of programs within a given mime  type.   An  animation
       viewer,  for example, may be able to display a static picture, but proba&#8208;
       bly wouldn&apos;t be the best choice and so would give an option like  &quot;prior&#8208;
       ity=2&quot;.   Priorities  range  from  0  to 9, with 0 being the lowest and 9
       being the highest.  If the priority option is omitted, a value  of  5  is
       used.

       The  following  are standard options that can be specified in the mailcap
       entry.  Options are separated by semicolons (;) but must all  be  on  the
       same line.  Each line should look like:

         mime/type; viewer; option; another=val; etc; priority=5

       Mime  types of the form &quot;class/*&quot; and even &quot;*/*&quot; are now acceptable (they
       were previously disallowed).  When using &quot;class/*&quot;, it is probably a good
       idea to add a &quot;priority=[1-4]&quot; option so specific rules using the default
       priority will get chosen first.  If using  &quot;*/*&quot;,  though,  you  probably
       want to add a &quot;priority=0&quot; option to make that rule a &quot;last resort&quot;.

   Commands
       &lt;program-string&gt;
              Specifies  the program to run to view a file of the given content-
              type.  This option setting connot be omitted.  An implicit &quot;view=&quot;
              can  be  considered  before it.  When writing an entry that has no
              viewer, use a value of false in this space.

       compose=&lt;program-string&gt;
              The &quot;compose&quot; command may be used to specify a program that can be
              used  to compose a new body or body part in the given format.  Its
              intended use is to support mail composing agents that support  the
              composition  of  multiple  types  of mail using external composing
              agents.  The result of the composing program may be data  that  is
              not  yet  suitable for mail transport -- that is, a Content-Trans&#8208;
              fer-Encoding may need to be applied to the data.

       composetyped=&lt;program-string&gt;
              The &quot;composetyped&quot; command is similar to &quot;compose&quot;, but is  to  be
              used  when the composing program needs to specify the Content-type
              header field to be applied to the composed  data.   The  &quot;compose&quot;
              option  is  simpler,  and is preferred for use with existing (non-
              mail-oriented) programs for composing data in a given format.  The
              &quot;composetyped&quot;  option is necessary when the Content-type informa&#8208;
              tion must include auxiliary parameters, and the  composition  pro&#8208;
              gram  must  then  know enough about mail formats to produce output
              that includes the mail type information.

       edit=&lt;program-string&gt;
              The &quot;edit&quot; command may be used to specify a program  that  can  be
              used  to  edit  a  body or body part in the given format.  In many
              cases, it may be identical in content to the &quot;compose&quot; command.

       print=&lt;program-string&gt;
              The &quot;print&quot; command may be used to specify a program that  can  be
              used to print a message or body part in the given format.

   Modifiers
       These  options are modifiers to all the commands specified on the command
       line.

       test=&lt;conditional&gt;
              The &quot;test&quot; option may be used  to  test  some  external  condition
              (e.g.,  the  machine architecture, or the window system in use) to
              determine whether or not the mailcap line applies.  It specifies a
              program  to  be  run to test some condition.  If the test fails, a
              subsequent mailcap entry will be sought.   Multiple  test  options
              are  not  permitted  --  since  a  test can call a program, it can
              already be arbitrarily complex.

              Note: When testing for X by looking  at  the  DISPLAY  environment
              variable, please use one of:

                      test=test -z &quot;$DISPLAY&quot;     (no X)
                or    test=test -n &quot;$DISPLAY&quot;     (have X)

              Many programs recognize these strings and optimize for them.

       needsterminal
              The  &quot;needsterminal&quot; option, if given, indicates that the commands
              must be run on an interactive terminal.  This is needed to  inform
              window-oriented  user  agents  that  an  interactive  terminal  is
              needed.  (The decision is not  left  exclusively  to  the  command
              because in some circumstances it may not be possible for such pro&#8208;
              grams to tell whether or not they are on  interactive  terminals.)
              The  needsterminal  command  applies to the view, compose and edit
              commands, if they exist.  Note that this is NOT a test -- it is  a
              requirement  for the environment in which the program will be exe&#8208;
              cuted, and will typically cause the creation of a terminal  window
              when not executed on either a real terminal or a terminal window.

       copiousoutput
              The  &quot;copiousoutput&quot;  option,  if given, indicates that the output
              from the view-command will be an extended stream of output and  is
              to  be  interpreted  as  advice to the UA (User Agent mail-reading
              program) that the output should be either  paged  or  made  scrol&#8208;
              lable.   Note  that  it is probably a mistake if needsterminal and
              copiousoutput are both specified.

   Content-Type Info
       These options provide additional information  about  the  given  content-
       type.

       description=&lt;string&gt;
              The  &quot;description&quot;  option  simply  provides a textual description
              that describes the type of data, to be  used  optionally  by  mail
              readers  that wish to describe the data before offering to display
              it.

       textualnewlines
              The &quot;textualnewlines&quot; option, if given, indicates that  this  type
              of  data is line-oriented and that, if encoded in a binary format,
              all newlines should be converted to canonical form  (CRLF)  before
              encoding,  and  will  be in that form after decoding.  In general,
              this is needed only if there is line-oriented data  of  some  type
              other  than  text/* or non-line-oriented data that is a subtype of
              text.

       x11-bitmap=&lt;pathname&gt;
              The &quot;x11-bitmap&quot; option names a file, in X11 bitmap (xbm)  format,
              which  points to an appropriate icon to be used to visually denote
              the presence of this kind of data.

       nametemplate=&lt;string&gt;
              The &quot;nametemplate&quot; option gives a file name format,  in  which  %s
              will  be replaced by a short unique string to give the name of the
              temporary file to be passed to the viewing command.  This is  only
              expected  to be relevant in environments where filename extensions
              are meaningful, e.g., one could specify  that  a  GIF  file  being
              passed  to  a  gif  viewer  should have a name ending in &quot;.gif&quot; by
              using &quot;nametemplate=%s.gif&quot;.

DEPENDENCIES
       Packages that wish to provide MIME access to themselves should not depend
       on,  recommend,  or  suggest mime-support.  Instead, they should just put
       something like the following in the postinst and postrm scripts.

           if [ -x /usr/sbin/update-mime ]; then
               update-mime
           fi

SEE ALSO
       mailcap.order(5), RFC-2046, RFC-1524

AUTHOR
       update-mime was written by Brian White &lt;bcwhite@pobox.com&gt;

COPYRIGHT
       update-mime is in the public domain (the only true &quot;free&quot;).



Debian Project                    3rd Sep 2010                    UPDATE-MIME(8)

</pre></body></html>
